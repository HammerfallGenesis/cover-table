/*
 THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
 If you want to view the source, please visit:
 https://github.com/HammerfallGenesis/obsidian-cover-table-plugin
*/

"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CoverTablePlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// src/interactive_table.ts
var import_obsidian = require("obsidian");
var InteractiveTable = class {
  constructor(app2) {
    this.app = app2;
    /* --------------------------------------------------------------------
    	-----------------------------------------------------------------------
    	   [0] 상수 & 정규 표현식, 새로고침 함수
    
    	   - dateYMDRegex, timeHMRegex 같은 파싱에 필요한 패턴 선언
    	-----------------------------------------------------------------------
    	-------------------------------------------------------------------- */
    this.dateYMDRegex = /^(\d{4})-(\d{1,2})-(\d{1,2})$/;
    this.timeHMRegex = /^(\d{1,2}):(\d{1,2})$/;
  }
  /* --------------------------------------------------------------------
     [0-1] 새로고침 함수수
  -------------------------------------------------------------------- */
  refreshCommand(delay = 50) {
    setTimeout(() => {
      this.app.commands.executeCommandById("dataview:dataview-force-refresh-views");
    }, delay);
  }
  /* --------------------------------------------------------------------
  -----------------------------------------------------------------------
     [1] 상태 관리 (State Management)
  -----------------------------------------------------------------------
  -------------------------------------------------------------------- */
  resolveViewId(settings) {
    let id = settings["id"];
    if (!id || typeof id !== "string") {
      id = "auto-" + Date.now() + "-" + Math.random().toString(16).slice(2, 6);
    }
    return id;
  }
  /* --------------------------------------------------------------------
     [1-1] 로컬 스토리지 접근
  -------------------------------------------------------------------- */
  // [1-1-1] 로컬 스토리지 저장‧검색 시 사용할 고유 키 생성 함수
  getStorageKey(notePath, viewId) {
    return `coverTable::${notePath}::${viewId}`;
  }
  // [1-1-2] 로컬 스토리지에서 가져오기 함수 / 저장하기 함수
  _getLocalState(notePath, viewId) {
    const key = this.getStorageKey(notePath, viewId);
    const dataString = localStorage.getItem(key);
    if (!dataString)
      return {};
    try {
      return JSON.parse(dataString);
    } catch (e) {
      return {};
    }
  }
  _setLocalState(notePath, viewId, obj) {
    const key = this.getStorageKey(notePath, viewId);
    localStorage.setItem(key, JSON.stringify(obj));
  }
  // [1-1-3] 특정 속성(propName) 값 가져오기 함수 / 값 저장하기 함수
  _getState(notePath, viewId, propName) {
    const localData = this._getLocalState(notePath, viewId);
    return localData.hasOwnProperty(propName) ? localData[propName] : null;
  }
  _setState(notePath, viewId, propName, val) {
    const localData = this._getLocalState(notePath, viewId);
    localData[propName] = val;
    this._setLocalState(notePath, viewId, localData);
  }
  /* --------------------------------------------------------------------
  -----------------------------------------------------------------------
     [2] 데이터 파싱 & 포맷팅 (Data Utilities)
  -----------------------------------------------------------------------
  -------------------------------------------------------------------- */
  /* --------------------------------------------------------------------
     [2-1] 프론트매터 항목 값 추출 함수
  -------------------------------------------------------------------- */
  getVal(page, prop) {
    if (!page)
      return null;
    if (prop.startsWith("file.")) {
      const parts = prop.split(".");
      let v = page;
      for (let i = 0; i < parts.length; i++) {
        if (v && v[parts[i]] !== void 0) {
          v = v[parts[i]];
        } else {
          return null;
        }
      }
      return v;
    }
    return page[prop];
  }
  /* --------------------------------------------------------------------
     [2-2] 날짜/시간 파싱싱
  -------------------------------------------------------------------- */
  parseDateYMD(str) {
    if (typeof str !== "string")
      return null;
    const m = str.match(this.dateYMDRegex);
    if (m) {
      const y = parseInt(m[1], 10);
      const mo = parseInt(m[2], 10);
      const d = parseInt(m[3], 10);
      if (y < 1e3 || y > 9999 || mo < 1 || mo > 12 || d < 1 || d > 31)
        return null;
      return new Date(y, mo - 1, d);
    }
    const dt = new Date(str);
    return isNaN(dt.getTime()) ? null : dt;
  }
  parseTimeHM(str) {
    if (typeof str !== "string")
      return null;
    const m = str.match(this.timeHMRegex);
    if (!m)
      return null;
    const hh = parseInt(m[1], 10);
    const mm = parseInt(m[2], 10);
    if (hh > 23 || mm > 59)
      return null;
    const dt = /* @__PURE__ */ new Date();
    dt.setHours(hh);
    dt.setMinutes(mm);
    return dt;
  }
  /* --------------------------------------------------------------------
     [2-3] 정렬용 키 생성 (전처리)
  -------------------------------------------------------------------- */
  getSortValue(value, _prop) {
    if (value === void 0 || value === null)
      return "";
    const s = typeof value === "string" ? value : String(value);
    let dt = this.parseDateYMD(s);
    if (!dt) {
      const dt2 = this.parseTimeHM(s);
      if (dt2)
        dt = dt2;
    }
    if (dt)
      return dt.getTime();
    const num = parseFloat(s);
    return !isNaN(num) ? num : s.toLowerCase();
  }
  /* --------------------------------------------------------------------
     [2-4] 날짜 포맷
  -------------------------------------------------------------------- */
  formatAsYYYYMMDDIfDate(value) {
    if (value === void 0 || value === null)
      return "";
    const s = typeof value === "string" ? value : String(value);
    const dt = this.parseDateYMD(s);
    if (!dt)
      return s;
    const yy = dt.getFullYear();
    const mm = dt.getMonth() + 1;
    const dd = dt.getDate();
    const mmStr = mm < 10 ? "0" + mm : "" + mm;
    const ddStr = dd < 10 ? "0" + dd : "" + dd;
    return `${yy}-${mmStr}-${ddStr}`;
  }
  /* --------------------------------------------------------------------
  -----------------------------------------------------------------------
     [3] 속성 재배치 & 정렬 (Columns Utilities)
  -----------------------------------------------------------------------
  -------------------------------------------------------------------- */
  /* --------------------------------------------------------------------
     [3-1] title/tags 고정
  -------------------------------------------------------------------- */
  reorderProps(original) {
    const titleCol = original.find((p) => p.prop === "title");
    const tagCol = original.find((p) => p.prop === "tags");
    const middle = original.filter((p) => p.prop !== "title" && p.prop !== "tags");
    return [
      ...titleCol ? [titleCol] : [],
      ...middle,
      ...tagCol ? [tagCol] : []
    ];
  }
  /* --------------------------------------------------------------------
     [3-2] 정렬 (title_link은 별도 정렬하지 않음)
  -------------------------------------------------------------------- */
  sortByProp(pages, prop, dir) {
    if (!prop || prop === "title_link")
      return pages;
    dir = dir || "asc";
    return pages.sort((a, b) => {
      const A = this.getVal(a, prop);
      const B = this.getVal(b, prop);
      const sA = this.getSortValue(A, prop);
      const sB = this.getSortValue(B, prop);
      if (typeof sA === "number" && typeof sB === "number") {
        return dir === "asc" ? sA - sB : sB - sA;
      }
      const strA = String(sA);
      const strB = String(sB);
      return dir === "asc" ? strA.localeCompare(strB) : strB.localeCompare(strA);
    });
  }
  /* --------------------------------------------------------------------
  -----------------------------------------------------------------------
     [4] 필터링 & 검색 (Filtering & Search)
  -----------------------------------------------------------------------
  -------------------------------------------------------------------- */
  /* --------------------------------------------------------------------
     [4-1] frontmatter 필터
  -------------------------------------------------------------------- */
  async makeFilterButton(p, pages, notePath, viewId) {
    const btn = document.createElement("button");
    btn.className = "interactive_table-filter__btn";
    const nm = p.name || p.prop;
    btn.append(nm);
    btn.onclick = async () => {
      await this.changePropFilter(p, pages, notePath, viewId);
    };
    return btn;
  }
  async changePropFilter(p, pages, notePath, viewId) {
    const setOfVals = /* @__PURE__ */ new Set();
    for (const pg of pages) {
      let rawVal = this.getVal(pg, p.prop);
      let val = this.formatAsYYYYMMDDIfDate(rawVal);
      if (!val)
        val = "-";
      setOfVals.add(val);
    }
    let arrOfVals = Array.from(setOfVals);
    const hasDash = arrOfVals.includes("-");
    if (hasDash) {
      arrOfVals = arrOfVals.filter((v) => v !== "-");
    }
    arrOfVals.sort((a, b) => a.localeCompare(b));
    const uv = hasDash ? ["ALL", "-"].concat(arrOfVals) : ["ALL", ...arrOfVals];
    const chosen = await this.suggester(uv);
    if (!chosen)
      return;
    const fKey = `filter_${viewId}_${p.prop}`;
    this._setState(notePath, viewId, fKey, chosen);
    this.refreshCommand(50);
  }
  async filterByProp(p, pages, notePath, viewId) {
    const fKey = `filter_${viewId}_${p.prop}`;
    const val = this._getState(notePath, viewId, fKey);
    if (!val || val === "ALL")
      return pages;
    return pages.filter((pg) => {
      let rawV = this.getVal(pg, p.prop);
      let cmpV = this.formatAsYYYYMMDDIfDate(rawV);
      if (!cmpV)
        cmpV = "-";
      return cmpV === val;
    });
  }
  /* --------------------------------------------------------------------
     [4-2] tag 필터
  -------------------------------------------------------------------- */
  async renderTagFilterButton(pages, container, notePath, viewId) {
    try {
      const currentTag = this._getState(notePath, viewId, "tagFilter") || "ALL";
      const btn = document.createElement("button");
      btn.className = "interactive_table-button interactive_table-button--tag-filter";
      btn.textContent = currentTag;
      btn.onclick = async () => {
        try {
          const allTags = /* @__PURE__ */ new Set();
          pages.forEach((pg) => {
            var _a;
            const tg = ((_a = pg == null ? void 0 : pg.file) == null ? void 0 : _a.tags) || (pg == null ? void 0 : pg.tags);
            if (!tg)
              return;
            if (Array.isArray(tg))
              tg.forEach((xx) => allTags.add(xx));
          });
          const arr = ["ALL", ...Array.from(allTags).sort()];
          const chosen = await this.suggester(arr);
          if (!chosen)
            return;
          this._setState(notePath, viewId, "tagFilter", chosen);
          this.refreshCommand(50);
        } catch (e) {
        }
      };
      container.appendChild(btn);
    } catch (e) {
    }
  }
  async applyTagFilter(pages, notePath, viewId) {
    const tg = this._getState(notePath, viewId, "tagFilter") || "ALL";
    if (tg === "ALL")
      return pages;
    return pages.filter((pg) => {
      var _a;
      const arr = ((_a = pg == null ? void 0 : pg.file) == null ? void 0 : _a.tags) || (pg == null ? void 0 : pg.tags);
      return Array.isArray(arr) && arr.includes(tg);
    });
  }
  /* --------------------------------------------------------------------
     [4-3] 전체 검색
  -------------------------------------------------------------------- */
  // 검색 텍스트 데이터셋 구축
  buildSearchTextMap(props, pages) {
    const tableProps = props.filter((c) => c.column);
    pages.forEach((pg) => {
      const buf = [];
      tableProps.forEach((col) => {
        let tv;
        if (col.prop === "title_link") {
          const aliasPart = pg.__fmTitle || "";
          tv = aliasPart;
        } else if (col.prop === "table") {
          tv = pg.__fmTable || "";
        } else {
          const rawVal = this.getVal(pg, col.prop);
          tv = rawVal == null ? "" : String(rawVal);
        }
        buf.push(tv.toLowerCase());
      });
      pg.__searchText = buf.join(" ");
    });
  }
  // 검색 로직 (Frontmatter -> tags -> text)
  async filterProps(props, pages, notePath, viewId) {
    for (const p of props.filter((x) => x.filter)) {
      pages = await this.filterByProp(p, pages, notePath, viewId);
    }
    pages = await this.applyTagFilter(pages, notePath, viewId);
    const sr = this._getState(notePath, viewId, `search_ready_${viewId}`);
    if (sr) {
      let sVal = (this._getState(notePath, viewId, `search_${viewId}`) || "").trim();
      if (sVal.length > 0) {
        const ws = sVal.split(" ");
        this.buildSearchTextMap(props, pages);
        for (let w of ws) {
          w = w.trim().toLowerCase();
          if (w.length > 0) {
            pages = pages.filter((pg) => {
              const txt = pg.__searchText || "";
              return txt.includes(w);
            });
          }
        }
      }
    }
    return pages;
  }
  /* --------------------------------------------------------------------
  -----------------------------------------------------------------------
     [5] 페이지네이션 (Pagination)
  -----------------------------------------------------------------------
  -------------------------------------------------------------------- */
  /* --------------------------------------------------------------------
     [5-1] 배열에서 “현재 페이지”에 해당하는 데이터만 잘라 반환
  -------------------------------------------------------------------- */
  paginate(arr, per, notePath, viewId) {
    const key = `pagination_${viewId}`;
    const totalPages = per > 0 ? Math.ceil(arr.length / per) : 1;
    let pageIdx = this._getState(notePath, viewId, key) || 0;
    if (pageIdx >= totalPages) {
      pageIdx = totalPages - 1;
      this._setState(notePath, viewId, key, pageIdx);
    }
    return per > 0 ? arr.slice(pageIdx * per, (pageIdx + 1) * per) : [...arr];
  }
  /* --------------------------------------------------------------------
     [5-2] 페이지 번호/이동 버튼이 들어갈 “pagination block” UI를 생성
  -------------------------------------------------------------------- */
  async paginationBlock(data, per, container, notePath, viewId) {
    const key = `pagination_${viewId}`;
    const totalPages = Math.ceil(data.length / per);
    const wrap = document.createElement("div");
    wrap.className = "interactive_table-pagination";
    const prv = await this.prevPageButton(totalPages, key, notePath, viewId);
    wrap.appendChild(prv);
    const curS = document.createElement("span");
    const cv = (this._getState(notePath, viewId, key) || 0) + 1;
    curS.textContent = `${cv} / ${totalPages}`;
    wrap.appendChild(curS);
    const nxt = await this.nextPageButton(totalPages, key, notePath, viewId);
    wrap.appendChild(nxt);
    container.appendChild(wrap);
  }
  /* --------------------------------------------------------------------
     [5-3] “다음 페이지” / “이전 페이지” 버튼 생성
  -------------------------------------------------------------------- */
  async nextPageButton(totalPages, storeKey, notePath, viewId) {
    const cv = this._getState(notePath, viewId, storeKey) || 0;
    const canNext = cv + 1 < totalPages;
    const base = "interactive_table-pagination__btn";
    const bClass = canNext ? base : `${base} ${base}--disabled`;
    const btn = document.createElement("button");
    btn.className = bClass;
    btn.append(">>");
    btn.onclick = async () => {
      if (!canNext)
        return;
      this._setState(notePath, viewId, storeKey, cv + 1);
      const el = document.querySelector(`.interactive_table-view--${viewId}`);
      if (el)
        el.scrollIntoView({ behavior: "smooth", block: "start" });
      this.refreshCommand(60);
    };
    return btn;
  }
  async prevPageButton(totalPages, storeKey, notePath, viewId) {
    const cv = this._getState(notePath, viewId, storeKey) || 0;
    const canPrev = cv > 0;
    const base = "interactive_table-pagination__btn";
    const bClass = canPrev ? base : `${base} ${base}--disabled`;
    const btn = document.createElement("button");
    btn.className = bClass;
    btn.append("<<");
    btn.onclick = async () => {
      if (!canPrev)
        return;
      this._setState(notePath, viewId, storeKey, cv - 1);
      const el = document.querySelector(`.interactive_table-view--${viewId}`);
      if (el)
        el.scrollIntoView({ behavior: "smooth", block: "start" });
      this.refreshCommand(60);
    };
    return btn;
  }
  /* --------------------------------------------------------------------
  -----------------------------------------------------------------------
     [6] UI 컴포넌트 생성 (UI Elements)
  -----------------------------------------------------------------------
  -------------------------------------------------------------------- */
  /* --------------------------------------------------------------------
     [6-1] 버튼 계열
  -------------------------------------------------------------------- */
  // [6-1-1] Open Folder 버튼(파일탐색기)
  async viewFolderButton(relPath, container) {
    const btn = document.createElement("button");
    btn.className = "interactive_table-button interactive_table-button--open-folder";
    btn.append("\u21AA Open Folder");
    btn.onclick = async () => {
      try {
        const { shell } = window.require("electron");
        const pathMod = window.require("path");
        if (!shell) {
          new globalThis.coverTable.obsidian.Notice("Electron shell is undefined!");
          return;
        }
        const vaultBase = this.app.vault.adapter.basePath;
        const absolutePath = pathMod.resolve(vaultBase, relPath);
        const isFile = pathMod.extname(absolutePath) !== "";
        if (isFile) {
          shell.showItemInFolder(absolutePath);
        } else {
          shell.openPath(absolutePath);
        }
      } catch (e) {
        new globalThis.coverTable.obsidian.Notice(`Error:
${e.message}`);
      }
    };
    container.append(btn);
  }
  // [6-1-2] New note 버튼
  async newNoteButton(dv, container) {
    const btn = document.createElement("button");
    btn.className = "interactive_table-button interactive_table-button--new-note";
    btn.append("+ New note");
    btn.onclick = async () => {
      var _a, _b, _c;
      try {
        const curFile = (_b = (_a = dv.current) == null ? void 0 : _a.call(dv)) == null ? void 0 : _b.file;
        const targetDir = this.app.fileManager.getNewFileParent((_c = curFile == null ? void 0 : curFile.path) != null ? _c : "");
        const newFile = await this.app.fileManager.createNewMarkdownFile(targetDir, "Untitled");
        await this.app.workspace.getLeaf(true).openFile(newFile);
        new globalThis.coverTable.obsidian.Notice(`Note created: ${newFile.path}`);
      } catch (e) {
        new globalThis.coverTable.obsidian.Notice(`Error:
${e.message}`);
      }
    };
    container.append(btn);
  }
  // [6-1-3] Refresh 버튼
  async refreshButton(container, notePath, viewId) {
    const btn = document.createElement("button");
    btn.className = "interactive_table-button interactive_table-button--refresh";
    btn.style.marginRight = "8px";
    btn.append("\u21BA");
    btn.onclick = async () => {
      this._setState(notePath, viewId, `sort_${viewId}`, null);
      this._setState(notePath, viewId, `sort_direction_${viewId}`, "asc");
      this.refreshCommand(50);
    };
    container.append(btn);
  }
  // [6-1-4] 검색창, 검색버튼 구축
  async searchInput(container, notePath, viewId) {
    const wrap = document.createElement("div");
    wrap.className = "interactive_table-search";
    wrap.style.display = "flex";
    wrap.style.alignItems = "center";
    const sKey = `search_${viewId}`;
    const sVal = this._getState(notePath, viewId, sKey) || "";
    const wasFocused = this._getState(notePath, viewId, `search_focus_${viewId}`) === true;
    const input = document.createElement("input");
    input.className = "interactive_table-search__input";
    input.value = sVal;
    input.placeholder = "\uAC80\uC0C9...";
    input.style.marginRight = "8px";
    if (wasFocused) {
      setTimeout(() => input.focus(), 0);
    }
    input.addEventListener("focus", () => {
      this._setState(notePath, viewId, `search_focus_${viewId}`, true);
    });
    input.addEventListener("blur", () => {
      this._setState(notePath, viewId, `search_focus_${viewId}`, false);
    });
    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        this._setState(notePath, viewId, sKey, input.value);
        this._setState(notePath, viewId, `search_ready_${viewId}`, true);
        this.refreshCommand(80);
      }
    });
    wrap.appendChild(input);
    const btn = document.createElement("button");
    btn.className = "interactive_table-search__btn";
    btn.innerText = "\u2315";
    btn.onclick = async () => {
      this._setState(notePath, viewId, sKey, input.value);
      this._setState(notePath, viewId, `search_ready_${viewId}`, true);
      this.refreshCommand(80);
      setTimeout(() => input.focus(), 80);
    };
    wrap.appendChild(btn);
    container.appendChild(wrap);
  }
  // [6-1-5] 필터 버튼 렌더러 (Filter Button Props)
  async filterButtonProps(props, pages, container, notePath, viewId) {
    const flt = props.filter((pp) => pp.filter);
    if (flt.length === 0)
      return;
    const wrap = document.createElement("div");
    wrap.className = "interactive_table-filter__buttons";
    for (const p of flt) {
      const b = await this.makeFilterButton(p, pages, notePath, viewId);
      wrap.appendChild(b);
    }
    container.appendChild(wrap);
  }
  /* --------------------------------------------------------------------
     [6-2] 인라인 편집 핸들러 (Inline Editing)
  -------------------------------------------------------------------- */
  async editProp(type, path, prop) {
    var _a;
    const file = app.vault.getAbstractFileByPath(path);
    if (!file)
      return;
    if (type === "file name" && file instanceof import_obsidian.TFile) {
      const oldName = file.basename;
      const newName = await this.textInput(oldName);
      if (!newName)
        return;
      const folder = ((_a = file.parent) == null ? void 0 : _a.path) || "";
      const ext = file.extension;
      const newPath = folder ? `${folder}/${newName}.${ext}` : `${newName}.${ext}`;
      await this.app.vault.rename(file, newPath);
      this.refreshCommand(50);
      return;
    }
    this.refreshCommand(50);
  }
  /* --------------------------------------------------------------------
     [6-3] 모달 헬퍼 (Modal Utilities)
  -------------------------------------------------------------------- */
  async textInput(defaultVal) {
    return new Promise((resolve) => {
      const { Modal: Modal2 } = globalThis.coverTable.obsidian;
      class MyModal extends Modal2 {
        constructor(app2) {
          super(app2);
          this.result = defaultVal;
        }
        onOpen() {
          const { contentEl } = this;
          contentEl.createEl("h1", { text: "Input" });
          const inp = contentEl.createEl("input");
          inp.value = this.result;
          inp.style.width = "100%";
          inp.addEventListener("keydown", (ev) => {
            if (ev.key === "Enter") {
              this.result = inp.value.trim();
              this.close();
              resolve(this.result);
            }
          });
          const okBtn = contentEl.createEl("button", { text: "OK" });
          okBtn.onclick = () => {
            this.result = inp.value.trim();
            this.close();
            resolve(this.result);
          };
        }
        onClose() {
          this.contentEl.empty();
        }
      }
      new MyModal(app).open();
    });
  }
  async suggester(vals) {
    const { SuggestModal: SuggestModal2 } = globalThis.coverTable.obsidian;
    return new Promise((resolve) => {
      class MySugg extends SuggestModal2 {
        getSuggestions(q) {
          return vals.filter((x) => x.toLowerCase().includes(q.toLowerCase()));
        }
        renderSuggestion(val, el) {
          el.createEl("div", { text: val });
        }
        onChooseSuggestion(val) {
          resolve(val);
        }
      }
      new MySugg(app).open();
    }).catch(() => null);
  }
  /* --------------------------------------------------------------------
     [6-4] 테이블 생성 (헤더 생성 → 행 생성 → 이벤트 바인딩)
  -------------------------------------------------------------------- */
  async createTable(props, pages, container, notePath, viewId, entriesPerPage, settings) {
    props = this.reorderProps(props);
    pages.forEach((pg) => {
      var _a, _b, _c;
      try {
        const dvPage = (_a = this.dv) == null ? void 0 : _a.page(pg.file.path);
        pg.__fmTitle = ((_b = dvPage == null ? void 0 : dvPage.frontmatter) == null ? void 0 : _b.title) || (dvPage == null ? void 0 : dvPage.title) || "";
      } catch (e) {
        pg.__fmTitle = ((_c = pg.frontmatter) == null ? void 0 : _c.title) || "";
      }
    });
    let filtered = await this.filterProps(props, pages, notePath, viewId);
    const sKey = `sort_${viewId}`;
    const dKey = `sort_direction_${viewId}`;
    let curSort = this._getState(notePath, viewId, sKey);
    let curDir = this._getState(notePath, viewId, dKey) || "asc";
    if (!curSort) {
      filtered.sort((a, b) => a.__fmTitle.localeCompare(b.__fmTitle));
    } else {
      filtered = this.sortByProp(filtered, curSort, curDir);
    }
    const disp = entriesPerPage ? this.paginate(filtered, entriesPerPage, notePath, viewId) : [...filtered];
    const headers = [];
    props.forEach((col) => {
      const hd = document.createElement("div");
      if (col.prop === "title_link") {
        hd.classList.add("interactive_table-table__header--static");
      } else {
        hd.classList.add("interactive_table-table__header--sortable");
        hd.setAttribute("data-prop", col.prop);
        hd.setAttribute("data-view-id", viewId);
      }
      hd.innerText = col.name || col.prop;
      headers.push(hd.outerHTML);
    });
    const rows = disp.map((pg) => {
      var _a, _b, _c, _d;
      const rowCells = [];
      for (const col of props) {
        let val = this.getVal(pg, col.prop);
        if (col.prop === "title_link") {
          const alias = pg.__fmTitle || "";
          if (typeof val === "object" && (val == null ? void 0 : val.path)) {
            const linkMarkup = alias.trim() === "" ? `[[${val.path}]]` : `[[${val.path}|${alias}]]`;
            rowCells.push(`<div class="interactive_table-table__cell--editable" data-path="${((_a = pg.file) == null ? void 0 : _a.path) || ""}" data-prop="title_link">${linkMarkup}</div>`);
          } else {
            if (alias.trim() === "") {
              rowCells.push(`<div class="interactive_table-table__cell--editable" data-path="${((_b = pg.file) == null ? void 0 : _b.path) || ""}" data-prop="title_link">[[${val && typeof val === "object" && (val == null ? void 0 : val.path) ? val.path : ""}]]</div>`);
            } else {
              rowCells.push(`<div class="interactive_table-table__cell--editable" data-path="${((_c = pg.file) == null ? void 0 : _c.path) || ""}" data-prop="title_link">${alias}</div>`);
            }
          }
        } else {
          if (Array.isArray(val)) {
            if (col.prop === "tags") {
              const updated = [];
              for (const item of val) {
                item.split(/\s+/).forEach((tk) => {
                  if (tk && !tk.startsWith("#")) {
                    tk = "#" + tk;
                  }
                  updated.push(tk);
                });
              }
              val = updated.join(" ");
            } else {
              val = val.join(" ");
            }
          }
          if (col.prop === "published") {
            const dt = this.parseDateYMD(val);
            val = dt ? dt.getFullYear().toString() : val || "-";
          } else {
            val = this.formatAsYYYYMMDDIfDate(val);
            if (!val)
              val = "-";
          }
          rowCells.push(`<div class="interactive_table-table__cell--editable" data-path="${((_d = pg.file) == null ? void 0 : _d.path) || ""}" data-prop="${col.prop}">${val}</div>`);
        }
      }
      return rowCells;
    });
    const mdTable = this.dv.markdownTable(headers, rows);
    const wrapP = this.dv.paragraph(mdTable);
    wrapP.classList.add("interactive_table-table", "interactive_table-table--full");
    container.appendChild(wrapP);
    wrapP.querySelectorAll(".interactive_table-table__cell--editable").forEach((btn) => {
      btn.addEventListener("click", async (e) => {
        if (e.target.localName === "a")
          return;
        const path = btn.getAttribute("data-path");
        const prop = btn.getAttribute("data-prop");
        if (path && prop)
          await this.editProp("text", path, prop);
      });
    });
    const hdrBtns = wrapP.querySelectorAll(".interactive_table-table__header--sortable");
    const applySortVisual = (sortProp, sortDir) => {
      hdrBtns.forEach((hb) => {
        hb.classList.remove("sorted-asc", "sorted-desc", "sorted-none");
      });
      hdrBtns.forEach((hb) => {
        const p = hb.getAttribute("data-prop") || "";
        if (!sortProp || sortProp !== p) {
          hb.classList.add("sorted-none");
        } else {
          hb.classList.add(sortDir === "asc" ? "sorted-asc" : "sorted-desc");
        }
      });
    };
    hdrBtns.forEach((hb) => {
      hb.addEventListener("click", async () => {
        let p = hb.getAttribute("data-prop") || "";
        const vId = hb.getAttribute("data-view-id") || "";
        const sKey2 = `sort_${vId}`;
        const dKey2 = `sort_direction_${vId}`;
        let curSort2 = this._getState(notePath, vId, sKey2);
        let curDir2 = this._getState(notePath, vId, dKey2) || "asc";
        if (curSort2 !== p) {
          curSort2 = p;
          curDir2 = "asc";
        } else {
          if (curDir2 === "asc")
            curDir2 = "desc";
          else if (curDir2 === "desc") {
            curSort2 = null;
            curDir2 = "asc";
          }
        }
        this._setState(notePath, vId, sKey2, curSort2);
        this._setState(notePath, vId, dKey2, curDir2);
        applySortVisual(curSort2, curDir2);
        this.refreshCommand(50);
      });
    });
    applySortVisual(curSort, curDir);
    return filtered;
  }
  /* --------------------------------------------------------------------
  -----------------------------------------------------------------------
     [7] 메인 진입점
  -----------------------------------------------------------------------
  -------------------------------------------------------------------- */
  /* --------------------------------------------------------------------
     [7-1] DataviewJS 엔트리 포인트: renderView
  -------------------------------------------------------------------- */
  async renderView(settings, props, pages, dv) {
    var _a;
    const originalConsoleError = console.error;
    console.error = (...args) => {
      const msg = args[0] instanceof Error ? args[0].message : String(args[0]);
      if (msg.includes("Cannot read properties of undefined (reading 'file')")) {
        return;
      }
      originalConsoleError(...args);
    };
    try {
      if (!dv || !pages || !Array.isArray(pages))
        return;
      const curr = (_a = dv.current) == null ? void 0 : _a.call(dv);
      if (!curr || !curr.file || !curr.file.path)
        return;
      const notePath = curr.file.path;
      pages = pages.filter((pg) => {
        var _a2;
        return (_a2 = pg == null ? void 0 : pg.file) == null ? void 0 : _a2.path;
      });
      this.dv = dv;
      const id = this.resolveViewId(settings);
      const oldContainer = dv.container;
      if (settings.folding === true) {
        const detailsParent = dv.container.createEl("details");
        const summaryEl = detailsParent.createEl("summary");
        summaryEl.setText(settings.foldingTitle || "Dataview");
        const foldedDiv = detailsParent.createEl("div");
        dv.container = foldedDiv;
      }
      const containerDiv = document.createElement("div");
      containerDiv.classList.add("interactive_table-view", `interactive_table-view--${id}`, "interactive_table-view--fade");
      dv.container.append(containerDiv);
      const topRow = document.createElement("div");
      topRow.classList.add("interactive_table-header");
      topRow.style.display = "flex";
      topRow.style.justifyContent = "space-between";
      topRow.style.alignItems = "center";
      containerDiv.appendChild(topRow);
      const leftArea = document.createElement("div");
      leftArea.className = "interactive_table-header__left";
      const centerArea = document.createElement("div");
      centerArea.className = "interactive_table-header__center";
      const rightArea = document.createElement("div");
      rightArea.className = "interactive_table-header__right";
      topRow.append(leftArea, centerArea, rightArea);
      if (settings.path) {
        await this.viewFolderButton(settings.path, leftArea);
      }
      await this.renderTagFilterButton(pages, leftArea, notePath, id);
      await this.refreshButton(rightArea, notePath, id);
      await this.searchInput(rightArea, notePath, id);
      await this.newNoteButton(dv, rightArea);
      const fmRow = document.createElement("div");
      fmRow.className = "interactive_table-filter";
      containerDiv.appendChild(fmRow);
      await this.filterButtonProps(props, pages, fmRow, notePath, id);
      const epp = settings["entries on page"] || 10;
      const finalFiltered = await this.createTable(props, pages, containerDiv, notePath, id, epp, settings);
      if (epp) {
        await this.paginationBlock(finalFiltered, epp, containerDiv, notePath, id);
      }
      dv.container = oldContainer;
    } catch (err) {
      console.warn("InteractiveTable renderView suppressed error:", err);
    } finally {
      setTimeout(() => {
        const allErrBlocks = document.querySelectorAll(".dataview-error, .dataview .error, .dv-render-error");
        allErrBlocks.forEach((elem) => {
          if (elem.textContent && elem.textContent.includes("Evaluation Error")) {
            elem.remove();
          }
        });
      }, 100);
      console.error = originalConsoleError;
    }
  }
  /* --------------------------------------------------------------------
     [7-2] renderAutoView (현재 노트 폴더의 md 문서 및 .canvas 파일 자동 수집)
  -------------------------------------------------------------------- */
  async renderAutoView(dv, settings = {}) {
    var _a;
    const currFile = (_a = dv.current()) == null ? void 0 : _a.file;
    if (!currFile) {
      console.warn("renderAutoView: No current file found.");
      return;
    }
    const mdPages = dv.pages().where((p) => p.file.folder === currFile.folder).where((p) => p.file.path !== currFile.path).array();
    const currentFolder = currFile.folder;
    const canvasFiles = this.app.vault.getFiles().filter((f) => f.extension === "canvas").filter((f) => {
      const parentFolder = f.path.substring(0, f.path.lastIndexOf("/")) || "";
      return parentFolder === currentFolder;
    });
    const canvasPages = canvasFiles.map((cf) => {
      return {
        file: {
          path: cf.path,
          link: dv.fileLink(cf.path),
          folder: currentFolder
        },
        frontmatter: {
          title: cf.basename
        },
        created: "",
        status: "",
        tags: "#\uCE94\uBC84\uC2A4"
      };
    });
    const pages = mdPages.concat(canvasPages);
    const defaultProps = [
      { prop: "title_link", name: "Title", filter: false, column: true },
      { prop: "created", name: "Created", filter: true, column: true },
      { prop: "tags", name: "Tags", filter: true, column: true }
    ];
    const finalProps = settings.props || defaultProps;
    await this.renderView(settings, finalProps, pages, dv);
  }
};

// src/gantt_table.ts
var GanttTable = class {
  constructor(app2) {
    this.app = app2;
    /**
     * (B) 다크/라이트 모드용 기본 팔레트
     */
    this.defaultDarkPalettes = [
      "#ff6363",
      "#ffa600",
      "#ffcf00",
      "#8aff80",
      "#2effd3",
      "#00ffff",
      "#25c6fc",
      "#3399ff",
      "#9975e2",
      "#cc66cc",
      "#ff66ff",
      "#ff66cc",
      "#ff6699",
      "#ff6666",
      "#f06b60",
      "#ed7732",
      "#de9f00",
      "#afff68",
      "#53ffb4",
      "#2f9eff"
    ];
    this.defaultLightPalettes = [
      "#ff9999",
      "#ffc04d",
      "#ffe680",
      "#b3ffb3",
      "#80fff2",
      "#80ffff",
      "#99daff",
      "#99c2ff",
      "#c2a3e8",
      "#df9edf",
      "#ff99ff",
      "#ff99e6",
      "#ff99c2",
      "#ff9999",
      "#f4a38c",
      "#f1b066",
      "#eec900",
      "#c5ff8a",
      "#84ffc9",
      "#74baff"
    ];
    this.noteColorMap = {};
    this.colorIndex = 0;
    this.legendData = {};
    this.isDarkMode = document.body.classList.contains("theme-dark");
  }
  /**
   * (A) createResponsiveHR
   *    - Gantt 아래에 InteractiveTable을 붙일 때 시각적 구분선 사용
   *    - parentEl: 실제 DOM 컨테이너(예: dv.container)
   */
  createResponsiveHR(parentEl) {
    const hr = document.createElement("hr");
    if (this.isDarkMode) {
      hr.style.border = "1px solid #fff";
    } else {
      hr.style.border = "1px solid #000";
    }
    hr.style.margin = "10px 0";
    parentEl.appendChild(hr);
    return hr;
  }
  /**
   * (C) 노트 → 색상 인덱스 할당
   */
  assignColorToNote(noteTitle, colorPalette) {
    if (!this.noteColorMap[noteTitle]) {
      if (!Array.isArray(colorPalette) || colorPalette.length === 0) {
        this.noteColorMap[noteTitle] = { colorIndex: null };
      } else {
        const idx = this.colorIndex % colorPalette.length;
        this.noteColorMap[noteTitle] = { colorIndex: idx };
        this.colorIndex++;
      }
    }
  }
  getNoteColor(noteTitle, colorPalette) {
    const entry = this.noteColorMap[noteTitle];
    if (!entry || entry.colorIndex === null)
      return "#999";
    return colorPalette[entry.colorIndex];
  }
  /**
   * (D) 데이터 수집: 다크/라이트 모드별 팔레트 확정 + 페이지 필터링
   */
  gatherData(dv, settings) {
    var _a;
    this.isDarkMode = document.body.classList.contains("theme-dark");
    let finalColorPalette;
    if (this.isDarkMode) {
      if (Array.isArray(settings.colorPaletteDark) && settings.colorPaletteDark.length > 0) {
        finalColorPalette = settings.colorPaletteDark;
      } else if (Array.isArray(settings.colorPalette) && settings.colorPalette.length > 0) {
        finalColorPalette = settings.colorPalette;
      } else {
        finalColorPalette = this.defaultDarkPalettes;
      }
    } else {
      if (Array.isArray(settings.colorPaletteLight) && settings.colorPaletteLight.length > 0) {
        finalColorPalette = settings.colorPaletteLight;
      } else if (Array.isArray(settings.colorPalette) && settings.colorPalette.length > 0) {
        finalColorPalette = settings.colorPalette;
      } else {
        finalColorPalette = this.defaultLightPalettes;
      }
    }
    const curr = (_a = dv.current) == null ? void 0 : _a.call(dv);
    if (!(curr == null ? void 0 : curr.file)) {
      return {
        dv,
        allPages: [],
        year: 0,
        month: 0,
        totalDays: 0,
        finalColorPalette
      };
    }
    const currentFile = curr.file;
    let basePages = [];
    if (settings.customPages && Array.isArray(settings.customPages)) {
      basePages = settings.customPages;
    } else if (settings.path && typeof settings.path === "string") {
      basePages = dv.pages(`"${settings.path}"`).where((p) => p.file.path !== currentFile.path).array();
    } else {
      basePages = dv.pages().where((p) => p.file.folder === currentFile.folder).where((p) => p.file.path !== currentFile.path).array();
    }
    let allPages = basePages.filter((p) => {
      let s = p.situation;
      if (s === "\uC791\uC5C5\uC644\uB8CC")
        return false;
      if (!p.created || !p.end)
        return false;
      return true;
    });
    let now = /* @__PURE__ */ new Date();
    let year = now.getFullYear();
    let month = now.getMonth();
    let totalDays = new Date(year, month + 1, 0).getDate();
    return { dv, allPages, year, month, totalDays, finalColorPalette };
  }
  /**
   * (E) 간트 테이블 생성
   */
  buildGanttTable(settings, data) {
    const { allPages, totalDays } = data;
    let theadHTML = `
      <thead>
        <tr>
          <th class="gantt-corner-col"></th>
          ${Array.from({ length: totalDays }, (_, i) => {
      let d = i + 1;
      let dayStr = String(d).padStart(2, "0");
      return `<th class="gantt-day-col">${dayStr}</th>`;
    }).join("")}
        </tr>
      </thead>`;
    let tbodyHTML = "<tbody>";
    for (let page of allPages) {
      let fmTitle = page.title || page.file.name || "Untitled";
      let situation = page.situation || "";
      if (situation === "\uC77C\uC2DC\uC911\uC9C0") {
        this.noteColorMap[fmTitle] = { colorIndex: null };
      } else {
        this.assignColorToNote(fmTitle, data.finalColorPalette);
      }
      tbodyHTML += `<tr>`;
      tbodyHTML += `<td class="gantt-note-col">${fmTitle}</td>`;
      for (let d = 1; d <= totalDays; d++) {
        tbodyHTML += `
          <td class="gantt-cell"
              data-note-title="${fmTitle}"
              data-day="${d}"
              data-situation="${situation}"></td>`;
      }
      tbodyHTML += `</tr>`;
    }
    tbodyHTML += "</tbody>";
    return `<table class="gantt-table">${theadHTML}${tbodyHTML}</table>`;
  }
  /**
   * (F) 범례
   */
  getLegendColor(title, palette) {
    const entry = this.noteColorMap[title];
    if (!entry)
      return "#999";
    if (entry.colorIndex === null)
      return "#888";
    return palette[entry.colorIndex] || "#999";
  }
  buildLegendHTML(settings, data) {
    const palette = data.finalColorPalette;
    let noteTitles = Object.keys(this.noteColorMap);
    if (noteTitles.length === 0)
      return "";
    noteTitles.sort();
    let legendItems = noteTitles.map((title) => {
      let c = this.getLegendColor(title, palette);
      return `
        <div class="gantt-legend-item">
          <span class="gantt-legend-color" style="background-color:${c};"></span>
          <span class="gantt-legend-text">${title}</span>
        </div>`;
    }).join("");
    return `<div class="gantt-legend">${legendItems}</div>`;
  }
  buildLegendData(data) {
    const palette = data.finalColorPalette;
    let result = {};
    for (const title in this.noteColorMap) {
      const entry = this.noteColorMap[title];
      if (!entry) {
        result[title] = "#999";
        continue;
      }
      if (entry.colorIndex === null) {
        result[title] = "#888";
      } else {
        result[title] = palette[entry.colorIndex] || "#999";
      }
    }
    return result;
  }
  getLegendDataFromData(data) {
    return this.buildLegendData(data);
  }
  /**
   * (G) 렌더 함수
   */
  async renderView(dv, settings = {}) {
    var _a, _b, _c;
    if (!((_a = dv.current) == null ? void 0 : _a.call(dv)) || !((_b = dv.current()) == null ? void 0 : _b.file)) {
      console.warn("GanttTable: No current file - returning quietly.");
      return;
    }
    if (!settings["id"] || typeof settings["id"] !== "string") {
      settings["id"] = "gantt-auto-" + Date.now() + "-" + Math.random().toString(16).slice(2, 6);
    }
    this.isDarkMode = document.body.classList.contains("theme-dark");
    let now = /* @__PURE__ */ new Date();
    let monthName = new Intl.DateTimeFormat("en", { month: "long" }).format(now);
    dv.paragraph(`\u{1F5D3}\uFE0F **${monthName}**`);
    this.noteColorMap = {};
    this.colorIndex = 0;
    this.legendData = {};
    let data = this.gatherData(dv, settings);
    if (!data || data.year === 0 || data.totalDays === 0) {
      dv.paragraph("*(No Gantt data)*");
      return;
    }
    let tableHTML = this.buildGanttTable(settings, data);
    let legendHTML = settings.showLegend === false ? "" : this.buildLegendHTML(settings, data);
    const container = document.createElement("div");
    container.classList.add("gantt-container");
    container.innerHTML = tableHTML + legendHTML;
    dv.container.appendChild(container);
    this.applyNoteColors(container, data);
    this.highlightToday(container, data);
    this.legendData = this.buildLegendData(data);
    if (settings.debugLegend === true) {
      dv.paragraph("**[Legend Data]**");
      dv.paragraph(JSON.stringify(this.legendData, null, 2));
    }
    if (settings.renderInteractiveBelow) {
      this.createResponsiveHR(dv.container);
      const engine = globalThis.coverTable.engine;
      if (engine == null ? void 0 : engine.renderAutoView) {
        await engine.renderAutoView(dv, (_c = settings.interactiveOptions) != null ? _c : {});
      }
    }
  }
  /**
   * (H) applyNoteColors
   */
  applyNoteColors(container, data) {
    const { dv, allPages, year, month, finalColorPalette } = data;
    allPages.forEach((page) => {
      let fmTitle = page.title || page.file.name || "Untitled";
      let situation = page.situation || "";
      let noteColor = "#999";
      if (situation === "\uC77C\uC2DC\uC911\uC9C0")
        noteColor = "#888";
      else
        noteColor = this.getNoteColor(fmTitle, finalColorPalette);
      let startDV = dv.date(page.created);
      let endDV = dv.date(page.end);
      if (!startDV || !endDV)
        return;
      let startJS = startDV.toJSDate();
      let endJS = endDV.toJSDate();
      let tds = container.querySelectorAll(`td[data-note-title="${fmTitle}"]`);
      tds.forEach((td) => {
        let d = parseInt(td.getAttribute("data-day"), 10);
        let thisDay = new Date(year, month, d);
        if (thisDay >= startJS && thisDay <= endJS) {
          td.style.setProperty("background-color", noteColor, "important");
        }
      });
    });
  }
  /**
   * (I) highlightToday
   */
  highlightToday(container, data) {
    let now = /* @__PURE__ */ new Date();
    let todayDay = now.getDate();
    let dayCells = container.querySelectorAll(`td[data-day="${todayDay}"]`);
    dayCells.forEach((td) => td.classList.add("gantt-today-col"));
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  design: {
    dark: {
      buttonColor: "#3c3c3c",
      buttonHoverColor: "#555555",
      tableHeaderBgColor: "#444444",
      tableBorderColor: "#000000"
    },
    light: {
      buttonColor: "#cccccc",
      buttonHoverColor: "#dddddd",
      tableHeaderBgColor: "#bbbbbb",
      tableBorderColor: "#666666"
    }
  }
};
var CoverTablePlugin = class extends import_obsidian2.Plugin {
  constructor(app2, manifest) {
    super(app2, manifest);
  }
  async onload() {
    console.log("Cover Table Plugin onload()");
    if (!globalThis.coverTable) {
      globalThis.coverTable = {};
    }
    const originalConsoleError = console.error;
    console.error = (...args) => {
      try {
        const msg = args[0] instanceof Error ? args[0].message : String(args[0]);
        if (msg.includes("coverTable is not defined"))
          return;
      } catch (e) {
      }
      originalConsoleError(...args);
    };
    await this.loadSettings();
    this.app.workspace.onLayoutReady(async () => {
      console.log("Cover Table Plugin onLayoutReady()");
      this.applyDesignSettings();
      this.registerEvent(
        this.app.workspace.on("css-change", () => {
          this.applyDesignSettings();
        })
      );
      globalThis.coverTable.obsidian = {
        Notice: import_obsidian2.Notice,
        Modal: import_obsidian2.Modal,
        SuggestModal: import_obsidian2.SuggestModal
      };
      globalThis.coverTable.engine = new InteractiveTable(this.app);
      globalThis.coverTable.gantt = new GanttTable(this.app);
      this.registerMarkdownPostProcessor(
        async (el, ctx) => {
          el.querySelectorAll("pre > code.language-gantt-table").forEach(async (code) => {
            let settings = {};
            try {
              settings = JSON.parse(code.textContent || "{}");
            } catch (e) {
            }
            const dvApi = window.dataviewApi || window.dvAPI;
            await globalThis.coverTable.gantt.renderView(dvApi, settings);
          });
        }
      );
    });
    this.addSettingTab(new CoverTableSettingTab(this.app, this));
  }
  onunload() {
    console.log("Cover Table Plugin onunload()");
  }
  async loadSettings() {
    const data = await this.loadData();
    this.settings = Object.assign({}, DEFAULT_SETTINGS, data);
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.applyDesignSettings();
  }
  applyDesignSettings() {
    const rootStyle = document.documentElement.style;
    const d = this.settings.design;
    const isDark = document.body.classList.contains("theme-dark");
    const c = isDark ? d.dark : d.light;
    rootStyle.setProperty("--cover-table-button-color", c.buttonColor);
    rootStyle.setProperty("--cover-table-button-hover-color", c.buttonHoverColor);
    rootStyle.setProperty("--cover-table-header-bg-color", c.tableHeaderBgColor);
    rootStyle.setProperty("--cover-table-border-color", c.tableBorderColor);
  }
};
var CoverTableSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Cover Table Plugin Settings" });
    containerEl.createEl("h3", { text: "Dark Mode Colors" });
    new import_obsidian2.Setting(containerEl).setName("Dark Button Color").addColorPicker(
      (cp) => cp.setValue(this.plugin.settings.design.dark.buttonColor).onChange(async (val) => {
        this.plugin.settings.design.dark.buttonColor = val;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Dark Button Hover Color").addColorPicker(
      (cp) => cp.setValue(this.plugin.settings.design.dark.buttonHoverColor).onChange(async (val) => {
        this.plugin.settings.design.dark.buttonHoverColor = val;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Dark Table Header BG").addColorPicker(
      (cp) => cp.setValue(this.plugin.settings.design.dark.tableHeaderBgColor).onChange(async (val) => {
        this.plugin.settings.design.dark.tableHeaderBgColor = val;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Dark Table Border Color").addColorPicker(
      (cp) => cp.setValue(this.plugin.settings.design.dark.tableBorderColor).onChange(async (val) => {
        this.plugin.settings.design.dark.tableBorderColor = val;
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "Light Mode Colors" });
    new import_obsidian2.Setting(containerEl).setName("Light Button Color").addColorPicker(
      (cp) => cp.setValue(this.plugin.settings.design.light.buttonColor).onChange(async (val) => {
        this.plugin.settings.design.light.buttonColor = val;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Light Button Hover Color").addColorPicker(
      (cp) => cp.setValue(this.plugin.settings.design.light.buttonHoverColor).onChange(async (val) => {
        this.plugin.settings.design.light.buttonHoverColor = val;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Light Table Header BG").addColorPicker(
      (cp) => cp.setValue(this.plugin.settings.design.light.tableHeaderBgColor).onChange(async (val) => {
        this.plugin.settings.design.light.tableHeaderBgColor = val;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian2.Setting(containerEl).setName("Light Table Border Color").addColorPicker(
      (cp) => cp.setValue(this.plugin.settings.design.light.tableBorderColor).onChange(async (val) => {
        this.plugin.settings.design.light.tableBorderColor = val;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21haW4udHMiLCAiLi4vc3JjL2ludGVyYWN0aXZlX3RhYmxlLnRzIiwgIi4uL3NyYy9nYW50dF90YWJsZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcclxuXHRBcHAsXHJcblx0TW9kYWwsXHJcblx0Tm90aWNlLFxyXG5cdFBsdWdpbixcclxuXHRQbHVnaW5NYW5pZmVzdCxcclxuXHRQbHVnaW5TZXR0aW5nVGFiLFxyXG5cdFNldHRpbmcsXHJcblx0U3VnZ2VzdE1vZGFsLFxyXG5cdE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsXHJcbiAgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuICBpbXBvcnQgeyBJbnRlcmFjdGl2ZVRhYmxlIH0gZnJvbSBcIi4vaW50ZXJhY3RpdmVfdGFibGVcIjtcclxuICBpbXBvcnQgeyBHYW50dFRhYmxlIH0gZnJvbSBcIi4vZ2FudHRfdGFibGVcIjtcclxuICBcclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKiAxLiBbXHVDMTI0XHVDODE1IFx1Qzc3OFx1RDEzMFx1RDM5OFx1Qzc3NFx1QzJBNF0gRGFyayAvIExpZ2h0XHJcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIGludGVyZmFjZSBNb2RlQ29sb3JDb25maWcge1xyXG5cdGJ1dHRvbkNvbG9yOiBzdHJpbmc7XHJcblx0YnV0dG9uSG92ZXJDb2xvcjogc3RyaW5nO1xyXG5cdHRhYmxlSGVhZGVyQmdDb2xvcjogc3RyaW5nO1xyXG5cdHRhYmxlQm9yZGVyQ29sb3I6IHN0cmluZztcclxuICB9XHJcbiAgaW50ZXJmYWNlIERlc2lnbk9wdGlvbnMge1xyXG5cdGRhcms6IE1vZGVDb2xvckNvbmZpZztcclxuXHRsaWdodDogTW9kZUNvbG9yQ29uZmlnO1xyXG4gIH1cclxuICBcclxuICBpbnRlcmZhY2UgQ292ZXJUYWJsZVBsdWdpblNldHRpbmdzIHtcclxuXHRkZXNpZ246IERlc2lnbk9wdGlvbnM7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IENvdmVyVGFibGVQbHVnaW5TZXR0aW5ncyA9IHtcclxuXHRkZXNpZ246IHtcclxuXHQgIGRhcms6IHtcclxuXHRcdGJ1dHRvbkNvbG9yOiBcIiMzYzNjM2NcIixcclxuXHRcdGJ1dHRvbkhvdmVyQ29sb3I6IFwiIzU1NTU1NVwiLFxyXG5cdFx0dGFibGVIZWFkZXJCZ0NvbG9yOiBcIiM0NDQ0NDRcIixcclxuXHRcdHRhYmxlQm9yZGVyQ29sb3I6IFwiIzAwMDAwMFwiLFxyXG5cdCAgfSxcclxuXHQgIGxpZ2h0OiB7XHJcblx0XHRidXR0b25Db2xvcjogXCIjY2NjY2NjXCIsXHJcblx0XHRidXR0b25Ib3ZlckNvbG9yOiBcIiNkZGRkZGRcIixcclxuXHRcdHRhYmxlSGVhZGVyQmdDb2xvcjogXCIjYmJiYmJiXCIsXHJcblx0XHR0YWJsZUJvcmRlckNvbG9yOiBcIiM2NjY2NjZcIixcclxuXHQgIH0sXHJcblx0fSxcclxuICB9O1xyXG4gIFxyXG4gIGV4cG9ydCBkZWZhdWx0IGNsYXNzIENvdmVyVGFibGVQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBDb3ZlclRhYmxlUGx1Z2luU2V0dGluZ3M7XHJcbiAgXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCkge1xyXG5cdFx0c3VwZXIoYXBwLCBtYW5pZmVzdCk7XHJcblx0fVxyXG4gIFxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGNvbnNvbGUubG9nKFwiQ292ZXIgVGFibGUgUGx1Z2luIG9ubG9hZCgpXCIpO1xyXG4gIFxyXG5cdFx0aWYgKCEoZ2xvYmFsVGhpcyBhcyBhbnkpLmNvdmVyVGFibGUpIHtcclxuXHRcdFx0KGdsb2JhbFRoaXMgYXMgYW55KS5jb3ZlclRhYmxlID0ge307XHJcblx0XHR9XHJcblx0XHJcblx0XHQvLyBkYXRhdmlld1x1MjAxMHN0eWxlIFx1QzVEMFx1QjdFQyBcdUM1QjVcdUM4MUNcclxuXHRcdGNvbnN0IG9yaWdpbmFsQ29uc29sZUVycm9yID0gY29uc29sZS5lcnJvcjtcclxuXHRcdGNvbnNvbGUuZXJyb3IgPSAoLi4uYXJnczogYW55W10pID0+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IG1zZyA9IGFyZ3NbMF0gaW5zdGFuY2VvZiBFcnJvciA/IGFyZ3NbMF0ubWVzc2FnZSA6IFN0cmluZyhhcmdzWzBdKTtcclxuXHRcdFx0aWYgKG1zZy5pbmNsdWRlcyhcImNvdmVyVGFibGUgaXMgbm90IGRlZmluZWRcIikpIHJldHVybjtcclxuXHRcdH0gY2F0Y2gge31cclxuXHRcdG9yaWdpbmFsQ29uc29sZUVycm9yKC4uLmFyZ3MpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KGFzeW5jICgpID0+IHtcclxuXHRcdGNvbnNvbGUubG9nKFwiQ292ZXIgVGFibGUgUGx1Z2luIG9uTGF5b3V0UmVhZHkoKVwiKTtcclxuXHJcblx0XHR0aGlzLmFwcGx5RGVzaWduU2V0dGluZ3MoKTtcclxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiY3NzLWNoYW5nZVwiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuYXBwbHlEZXNpZ25TZXR0aW5ncygpO1xyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBcdUM4MDRcdUM1RURcdUM1RDAgQVBJIFx1QjE3OFx1Q0Q5Q1xyXG5cdFx0KGdsb2JhbFRoaXMgYXMgYW55KS5jb3ZlclRhYmxlLm9ic2lkaWFuID0ge1xyXG5cdFx0XHROb3RpY2UsXHJcblx0XHRcdE1vZGFsLFxyXG5cdFx0XHRTdWdnZXN0TW9kYWwsXHJcblx0XHR9O1xyXG5cdFx0KGdsb2JhbFRoaXMgYXMgYW55KS5jb3ZlclRhYmxlLmVuZ2luZSA9IG5ldyBJbnRlcmFjdGl2ZVRhYmxlKHRoaXMuYXBwKTtcclxuXHRcdChnbG9iYWxUaGlzIGFzIGFueSkuY292ZXJUYWJsZS5nYW50dCA9IG5ldyBHYW50dFRhYmxlKHRoaXMuYXBwKTtcclxuXHJcblx0XHQvL1xyXG5cdFx0Ly8gIFx1MjYwNSBcdUMwQzhcdUI4NUMgXHVDRDk0XHVBQzAwOiBNYXJrZG93biBQb3N0LVByb2Nlc3NvclxyXG5cdFx0Ly8gICAgXHVDRjU0XHVCNERDIFx1QkUxNFx1Qjg1RCBcdUM1QjhcdUM1QjRcdUFDMDAgYGxhbmd1YWdlLWludGVyYWN0aXZlLXRhYmxlYCBcdUM3NzggXHVBQ0JEXHVDNkIwXHJcblx0XHQvLyAgICByZW5kZXJBdXRvVmlldyBcdUI5N0MgXHVENjM4XHVDRDlDXHVENTY5XHVCMkM4XHVCMkU0LlxyXG5cdFx0Ly9cclxuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoXHJcblx0XHRcdGFzeW5jIChlbDogSFRNTEVsZW1lbnQsIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkgPT4ge1xyXG5cdFx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJwcmUgPiBjb2RlLmxhbmd1YWdlLWdhbnR0LXRhYmxlXCIpLmZvckVhY2goYXN5bmMgKGNvZGUpID0+IHtcclxuXHRcdFx0XHRcdGxldCBzZXR0aW5ncyA9IHt9O1xyXG5cdFx0XHRcdFx0dHJ5IHsgc2V0dGluZ3MgPSBKU09OLnBhcnNlKGNvZGUudGV4dENvbnRlbnQgfHwgXCJ7fVwiKTsgfSBjYXRjaCB7fVxyXG5cdFx0XHRcdFx0Y29uc3QgZHZBcGkgPSAod2luZG93IGFzIGFueSkuZGF0YXZpZXdBcGkgfHwgKHdpbmRvdyBhcyBhbnkpLmR2QVBJO1xyXG5cdFx0XHRcdFx0YXdhaXQgKGdsb2JhbFRoaXMgYXMgYW55KS5jb3ZlclRhYmxlLmdhbnR0LnJlbmRlclZpZXcoZHZBcGksIHNldHRpbmdzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdH0pO1xyXG5cdFxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBDb3ZlclRhYmxlU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdFx0fVxyXG4gIFxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0Y29uc29sZS5sb2coXCJDb3ZlciBUYWJsZSBQbHVnaW4gb251bmxvYWQoKVwiKTtcclxuXHR9XHJcbiAgXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdCAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcclxuXHQgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBkYXRhKTtcclxuXHR9XHJcbiAgXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdCAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHQgIHRoaXMuYXBwbHlEZXNpZ25TZXR0aW5ncygpO1xyXG5cdH1cclxuICBcclxuXHRwcml2YXRlIGFwcGx5RGVzaWduU2V0dGluZ3MoKSB7XHJcblx0ICBjb25zdCByb290U3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XHJcblx0ICBjb25zdCBkID0gdGhpcy5zZXR0aW5ncy5kZXNpZ247XHJcblx0ICBjb25zdCBpc0RhcmsgPSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhcInRoZW1lLWRhcmtcIik7XHJcblx0ICBjb25zdCBjID0gaXNEYXJrID8gZC5kYXJrIDogZC5saWdodDtcclxuICBcclxuXHQgIHJvb3RTdHlsZS5zZXRQcm9wZXJ0eShcIi0tY292ZXItdGFibGUtYnV0dG9uLWNvbG9yXCIsIGMuYnV0dG9uQ29sb3IpO1xyXG5cdCAgcm9vdFN0eWxlLnNldFByb3BlcnR5KFwiLS1jb3Zlci10YWJsZS1idXR0b24taG92ZXItY29sb3JcIiwgYy5idXR0b25Ib3ZlckNvbG9yKTtcclxuXHQgIHJvb3RTdHlsZS5zZXRQcm9wZXJ0eShcIi0tY292ZXItdGFibGUtaGVhZGVyLWJnLWNvbG9yXCIsIGMudGFibGVIZWFkZXJCZ0NvbG9yKTtcclxuXHQgIHJvb3RTdHlsZS5zZXRQcm9wZXJ0eShcIi0tY292ZXItdGFibGUtYm9yZGVyLWNvbG9yXCIsIGMudGFibGVCb3JkZXJDb2xvcik7XHJcblx0fVxyXG4gIH1cclxuICBcclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKiA0LiBbXHVDMTI0XHVDODE1IFx1RDBFRCBcdUQwNzRcdUI3OThcdUMyQTRdXHJcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gIGNsYXNzIENvdmVyVGFibGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcblx0cGx1Z2luOiBDb3ZlclRhYmxlUGx1Z2luO1xyXG4gIFxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IENvdmVyVGFibGVQbHVnaW4pIHtcclxuXHQgIHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHQgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuICBcclxuXHRkaXNwbGF5KCk6IHZvaWQge1xyXG5cdCAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuXHQgIGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcbiAgXHJcblx0ICBjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJDb3ZlciBUYWJsZSBQbHVnaW4gU2V0dGluZ3NcIiB9KTtcclxuICBcclxuXHQgIC8vIERhcmsgTW9kZVxyXG5cdCAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiRGFyayBNb2RlIENvbG9yc1wiIH0pO1xyXG5cdCAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZShcIkRhcmsgQnV0dG9uIENvbG9yXCIpXHJcblx0XHQuYWRkQ29sb3JQaWNrZXIoKGNwKSA9PlxyXG5cdFx0ICBjcFxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmRhcmsuYnV0dG9uQ29sb3IpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsKSA9PiB7XHJcblx0XHRcdCAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmRhcmsuYnV0dG9uQ29sb3IgPSB2YWw7XHJcblx0XHRcdCAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdH0pXHJcblx0XHQpO1xyXG5cdCAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZShcIkRhcmsgQnV0dG9uIEhvdmVyIENvbG9yXCIpXHJcblx0XHQuYWRkQ29sb3JQaWNrZXIoKGNwKSA9PlxyXG5cdFx0ICBjcFxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmRhcmsuYnV0dG9uSG92ZXJDb2xvcilcclxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWwpID0+IHtcclxuXHRcdFx0ICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZXNpZ24uZGFyay5idXR0b25Ib3ZlckNvbG9yID0gdmFsO1xyXG5cdFx0XHQgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuXHQgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0LnNldE5hbWUoXCJEYXJrIFRhYmxlIEhlYWRlciBCR1wiKVxyXG5cdFx0LmFkZENvbG9yUGlja2VyKChjcCkgPT5cclxuXHRcdCAgY3BcclxuXHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlc2lnbi5kYXJrLnRhYmxlSGVhZGVyQmdDb2xvcilcclxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWwpID0+IHtcclxuXHRcdFx0ICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZXNpZ24uZGFyay50YWJsZUhlYWRlckJnQ29sb3IgPSB2YWw7XHJcblx0XHRcdCAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdH0pXHJcblx0XHQpO1xyXG5cdCAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZShcIkRhcmsgVGFibGUgQm9yZGVyIENvbG9yXCIpXHJcblx0XHQuYWRkQ29sb3JQaWNrZXIoKGNwKSA9PlxyXG5cdFx0ICBjcFxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmRhcmsudGFibGVCb3JkZXJDb2xvcilcclxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWwpID0+IHtcclxuXHRcdFx0ICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZXNpZ24uZGFyay50YWJsZUJvcmRlckNvbG9yID0gdmFsO1xyXG5cdFx0XHQgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHR9KVxyXG5cdFx0KTtcclxuICBcclxuXHQgIC8vIExpZ2h0IE1vZGVcclxuXHQgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIkxpZ2h0IE1vZGUgQ29sb3JzXCIgfSk7XHJcblx0ICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdC5zZXROYW1lKFwiTGlnaHQgQnV0dG9uIENvbG9yXCIpXHJcblx0XHQuYWRkQ29sb3JQaWNrZXIoKGNwKSA9PlxyXG5cdFx0ICBjcFxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmxpZ2h0LmJ1dHRvbkNvbG9yKVxyXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbCkgPT4ge1xyXG5cdFx0XHQgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRlc2lnbi5saWdodC5idXR0b25Db2xvciA9IHZhbDtcclxuXHRcdFx0ICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0ICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdC5zZXROYW1lKFwiTGlnaHQgQnV0dG9uIEhvdmVyIENvbG9yXCIpXHJcblx0XHQuYWRkQ29sb3JQaWNrZXIoKGNwKSA9PlxyXG5cdFx0ICBjcFxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmxpZ2h0LmJ1dHRvbkhvdmVyQ29sb3IpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsKSA9PiB7XHJcblx0XHRcdCAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmxpZ2h0LmJ1dHRvbkhvdmVyQ29sb3IgPSB2YWw7XHJcblx0XHRcdCAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdH0pXHJcblx0XHQpO1xyXG5cdCAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHQuc2V0TmFtZShcIkxpZ2h0IFRhYmxlIEhlYWRlciBCR1wiKVxyXG5cdFx0LmFkZENvbG9yUGlja2VyKChjcCkgPT5cclxuXHRcdCAgY3BcclxuXHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlc2lnbi5saWdodC50YWJsZUhlYWRlckJnQ29sb3IpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsKSA9PiB7XHJcblx0XHRcdCAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmxpZ2h0LnRhYmxlSGVhZGVyQmdDb2xvciA9IHZhbDtcclxuXHRcdFx0ICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0fSlcclxuXHRcdCk7XHJcblx0ICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdC5zZXROYW1lKFwiTGlnaHQgVGFibGUgQm9yZGVyIENvbG9yXCIpXHJcblx0XHQuYWRkQ29sb3JQaWNrZXIoKGNwKSA9PlxyXG5cdFx0ICBjcFxyXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmxpZ2h0LnRhYmxlQm9yZGVyQ29sb3IpXHJcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsKSA9PiB7XHJcblx0XHRcdCAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaWduLmxpZ2h0LnRhYmxlQm9yZGVyQ29sb3IgPSB2YWw7XHJcblx0XHRcdCAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdH0pXHJcblx0XHQpO1xyXG5cdH1cclxuICB9XHJcbiAgIiwgImltcG9ydCB7IEFwcCwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGl2ZVRhYmxlIHtcclxuXHRwcml2YXRlIGR2OiBhbnk7XHJcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBhcHA6IEFwcCkge31cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzBdIFx1QzBDMVx1QzIxOCAmIFx1QzgxNVx1QUREQyBcdUQ0NUNcdUQ2MDRcdUMyREQsIFx1QzBDOFx1Qjg1Q1x1QUNFMFx1Q0U2OCBcdUQ1NjhcdUMyMThcclxuXHJcblx0ICAgLSBkYXRlWU1EUmVnZXgsIHRpbWVITVJlZ2V4IFx1QUMxOVx1Qzc0MCBcdUQzMENcdUMyRjFcdUM1RDAgXHVENTQ0XHVDNjk0XHVENTVDIFx1RDMyOFx1RDEzNCBcdUMxMjBcdUM1QjhcclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblx0cHJpdmF0ZSByZWFkb25seSBkYXRlWU1EUmVnZXggPSAvXihcXGR7NH0pLShcXGR7MSwyfSktKFxcZHsxLDJ9KSQvO1xyXG5cdHByaXZhdGUgcmVhZG9ubHkgdGltZUhNUmVnZXggPSAvXihcXGR7MSwyfSk6KFxcZHsxLDJ9KSQvO1xyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzAtMV0gXHVDMEM4XHVCODVDXHVBQ0UwXHVDRTY4IFx1RDU2OFx1QzIxOFx1QzIxOFxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblx0cHJpdmF0ZSByZWZyZXNoQ29tbWFuZChkZWxheSA9IDUwKSB7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdCAgdGhpcy5hcHAuY29tbWFuZHMuZXhlY3V0ZUNvbW1hbmRCeUlkKFwiZGF0YXZpZXc6ZGF0YXZpZXctZm9yY2UtcmVmcmVzaC12aWV3c1wiKTtcclxuXHRcdH0sIGRlbGF5KTtcclxuXHQgIH1cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzFdIFx1QzBDMVx1RDBEQyBcdUFEMDBcdUI5QUMgKFN0YXRlIE1hbmFnZW1lbnQpXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdHByaXZhdGUgcmVzb2x2ZVZpZXdJZChzZXR0aW5nczogYW55KTogc3RyaW5nIHtcclxuXHRcdGxldCBpZCA9IHNldHRpbmdzW1wiaWRcIl07XHJcblx0XHRpZiAoIWlkIHx8IHR5cGVvZiBpZCAhPT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRpZCA9IFwiYXV0by1cIiArIERhdGUubm93KCkgKyBcIi1cIiArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIsIDYpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGlkO1xyXG5cdH1cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFsxLTFdIFx1Qjg1Q1x1Q0VFQyBcdUMyQTRcdUQxQTBcdUI5QUNcdUM5QzAgXHVDODExXHVBREZDXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHQvLyBbMS0xLTFdIFx1Qjg1Q1x1Q0VFQyBcdUMyQTRcdUQxQTBcdUI5QUNcdUM5QzAgXHVDODAwXHVDN0E1XHUyMDI3XHVBQzgwXHVDMEM5IFx1QzJEQyBcdUMwQUNcdUM2QTlcdUQ1NjAgXHVBQ0UwXHVDNzIwIFx1RDBBNCBcdUMwRERcdUMxMzEgXHVENTY4XHVDMjE4XHJcblx0cHJpdmF0ZSBnZXRTdG9yYWdlS2V5KG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBgY292ZXJUYWJsZTo6JHtub3RlUGF0aH06OiR7dmlld0lkfWA7XHJcblx0fVxyXG5cdC8vIFsxLTEtMl0gXHVCODVDXHVDRUVDIFx1QzJBNFx1RDFBMFx1QjlBQ1x1QzlDMFx1QzVEMFx1QzExQyBcdUFDMDBcdUM4MzhcdUM2MjRcdUFFMzAgXHVENTY4XHVDMjE4IC8gXHVDODAwXHVDN0E1XHVENTU4XHVBRTMwIFx1RDU2OFx1QzIxOFxyXG5cdHByaXZhdGUgX2dldExvY2FsU3RhdGUobm90ZVBhdGg6IHN0cmluZywgdmlld0lkOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IGtleSA9IHRoaXMuZ2V0U3RvcmFnZUtleShub3RlUGF0aCwgdmlld0lkKTtcclxuXHRcdGNvbnN0IGRhdGFTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG5cdFx0aWYgKCFkYXRhU3RyaW5nKSByZXR1cm4ge307XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcclxuXHRcdH0gY2F0Y2gge1xyXG5cdFx0XHRyZXR1cm4ge307XHJcblx0XHR9XHJcblx0fVxyXG5cdHByaXZhdGUgX3NldExvY2FsU3RhdGUobm90ZVBhdGg6IHN0cmluZywgdmlld0lkOiBzdHJpbmcsIG9iajogYW55KSB7XHJcblx0XHRjb25zdCBrZXkgPSB0aGlzLmdldFN0b3JhZ2VLZXkobm90ZVBhdGgsIHZpZXdJZCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KG9iaikpO1xyXG5cdH1cclxuXHQvLyBbMS0xLTNdIFx1RDJCOVx1QzgxNSBcdUMxOERcdUMxMzEocHJvcE5hbWUpIFx1QUMxMiBcdUFDMDBcdUM4MzhcdUM2MjRcdUFFMzAgXHVENTY4XHVDMjE4IC8gXHVBQzEyIFx1QzgwMFx1QzdBNVx1RDU1OFx1QUUzMCBcdUQ1NjhcdUMyMThcclxuXHRwcml2YXRlIF9nZXRTdGF0ZShub3RlUGF0aDogc3RyaW5nLCB2aWV3SWQ6IHN0cmluZywgcHJvcE5hbWU6IHN0cmluZykge1xyXG5cdFx0Y29uc3QgbG9jYWxEYXRhID0gdGhpcy5fZ2V0TG9jYWxTdGF0ZShub3RlUGF0aCwgdmlld0lkKTtcclxuXHRcdHJldHVybiBsb2NhbERhdGEuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpID8gbG9jYWxEYXRhW3Byb3BOYW1lXSA6IG51bGw7XHJcblx0fVxyXG5cdHByaXZhdGUgX3NldFN0YXRlKG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nLCBwcm9wTmFtZTogc3RyaW5nLCB2YWw6IGFueSkge1xyXG5cdFx0Y29uc3QgbG9jYWxEYXRhID0gdGhpcy5fZ2V0TG9jYWxTdGF0ZShub3RlUGF0aCwgdmlld0lkKTtcclxuXHRcdGxvY2FsRGF0YVtwcm9wTmFtZV0gPSB2YWw7XHJcblx0XHR0aGlzLl9zZXRMb2NhbFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIGxvY2FsRGF0YSk7XHJcblx0fVxyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgICBbMl0gXHVCMzcwXHVDNzc0XHVEMTMwIFx1RDMwQ1x1QzJGMSAmIFx1RDNFQ1x1QjlGN1x1RDMwNSAoRGF0YSBVdGlsaXRpZXMpXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzItMV0gXHVENTA0XHVCODYwXHVEMkI4XHVCOUU0XHVEMTMwIFx1RDU2RFx1QkFBOSBcdUFDMTIgXHVDRDk0XHVDRDlDIFx1RDU2OFx1QzIxOFxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblx0cHJpdmF0ZSBnZXRWYWwocGFnZTogYW55LCBwcm9wOiBzdHJpbmcpIHtcclxuXHRcdGlmICghcGFnZSkgcmV0dXJuIG51bGw7XHJcblx0XHRpZiAocHJvcC5zdGFydHNXaXRoKFwiZmlsZS5cIikpIHtcclxuXHRcdFx0Y29uc3QgcGFydHMgPSBwcm9wLnNwbGl0KFwiLlwiKTtcclxuXHRcdFx0bGV0IHY6IGFueSA9IHBhZ2U7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAodiAmJiB2W3BhcnRzW2ldXSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHR2ID0gdltwYXJ0c1tpXV07XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdjtcclxuXHRcdH1cclxuXHRcdHJldHVybiBwYWdlW3Byb3BdO1xyXG5cdH1cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFsyLTJdIFx1QjBBMFx1QzlEQy9cdUMyRENcdUFDMDQgXHVEMzBDXHVDMkYxXHVDMkYxXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwcml2YXRlIHBhcnNlRGF0ZVlNRChzdHI6IHN0cmluZykge1xyXG5cdFx0aWYgKHR5cGVvZiBzdHIgIT09IFwic3RyaW5nXCIpIHJldHVybiBudWxsO1xyXG5cdFx0Y29uc3QgbSA9IHN0ci5tYXRjaCh0aGlzLmRhdGVZTURSZWdleCk7XHJcblx0XHRpZiAobSkge1xyXG5cdFx0XHRjb25zdCB5ID0gcGFyc2VJbnQobVsxXSwgMTApO1xyXG5cdFx0XHRjb25zdCBtbyA9IHBhcnNlSW50KG1bMl0sIDEwKTtcclxuXHRcdFx0Y29uc3QgZCA9IHBhcnNlSW50KG1bM10sIDEwKTtcclxuXHRcdFx0aWYgKHkgPCAxMDAwIHx8IHkgPiA5OTk5IHx8IG1vIDwgMSB8fCBtbyA+IDEyIHx8IGQgPCAxIHx8IGQgPiAzMSkgcmV0dXJuIG51bGw7XHJcblx0XHRcdHJldHVybiBuZXcgRGF0ZSh5LCBtbyAtIDEsIGQpO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgZHQgPSBuZXcgRGF0ZShzdHIpO1xyXG5cdFx0cmV0dXJuIGlzTmFOKGR0LmdldFRpbWUoKSkgPyBudWxsIDogZHQ7XHJcblx0fVxyXG5cdHByaXZhdGUgcGFyc2VUaW1lSE0oc3RyOiBzdHJpbmcpIHtcclxuXHRcdGlmICh0eXBlb2Ygc3RyICE9PSBcInN0cmluZ1wiKSByZXR1cm4gbnVsbDtcclxuXHRcdGNvbnN0IG0gPSBzdHIubWF0Y2godGhpcy50aW1lSE1SZWdleCk7XHJcblx0XHRpZiAoIW0pIHJldHVybiBudWxsO1xyXG5cdFx0Y29uc3QgaGggPSBwYXJzZUludChtWzFdLCAxMCk7XHJcblx0XHRjb25zdCBtbSA9IHBhcnNlSW50KG1bMl0sIDEwKTtcclxuXHRcdGlmIChoaCA+IDIzIHx8IG1tID4gNTkpIHJldHVybiBudWxsO1xyXG5cdFx0Y29uc3QgZHQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0ZHQuc2V0SG91cnMoaGgpO1xyXG5cdFx0ZHQuc2V0TWludXRlcyhtbSk7XHJcblx0XHRyZXR1cm4gZHQ7XHJcblx0fVxyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzItM10gXHVDODE1XHVCODJDXHVDNkE5IFx1RDBBNCBcdUMwRERcdUMxMzEgKFx1QzgwNFx1Q0M5OFx1QjlBQylcclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdHByaXZhdGUgZ2V0U29ydFZhbHVlKHZhbHVlOiBhbnksIF9wcm9wOiBzdHJpbmcpIHtcclxuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gXCJcIjtcclxuXHRcdGNvbnN0IHMgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSk7XHJcblx0XHRsZXQgZHQgPSB0aGlzLnBhcnNlRGF0ZVlNRChzKTtcclxuXHRcdGlmICghZHQpIHtcclxuXHRcdFx0Y29uc3QgZHQyID0gdGhpcy5wYXJzZVRpbWVITShzKTtcclxuXHRcdFx0aWYgKGR0MikgZHQgPSBkdDI7XHJcblx0XHR9XHJcblx0XHRpZiAoZHQpIHJldHVybiBkdC5nZXRUaW1lKCk7XHJcblx0XHRjb25zdCBudW0gPSBwYXJzZUZsb2F0KHMpO1xyXG5cdFx0cmV0dXJuICFpc05hTihudW0pID8gbnVtIDogcy50b0xvd2VyQ2FzZSgpO1xyXG5cdH1cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFsyLTRdIFx1QjBBMFx1QzlEQyBcdUQzRUNcdUI5RjdcclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdHByaXZhdGUgZm9ybWF0QXNZWVlZTU1ERElmRGF0ZSh2YWx1ZTogYW55KTogc3RyaW5nIHtcclxuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSByZXR1cm4gXCJcIjtcclxuXHRcdGNvbnN0IHMgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSk7XHJcblx0XHRjb25zdCBkdCA9IHRoaXMucGFyc2VEYXRlWU1EKHMpO1xyXG5cdFx0aWYgKCFkdCkgcmV0dXJuIHM7XHJcblx0XHRjb25zdCB5eSA9IGR0LmdldEZ1bGxZZWFyKCk7XHJcblx0XHRjb25zdCBtbSA9IGR0LmdldE1vbnRoKCkgKyAxO1xyXG5cdFx0Y29uc3QgZGQgPSBkdC5nZXREYXRlKCk7XHJcblx0XHRjb25zdCBtbVN0ciA9IG1tIDwgMTAgPyBcIjBcIiArIG1tIDogXCJcIiArIG1tO1xyXG5cdFx0Y29uc3QgZGRTdHIgPSBkZCA8IDEwID8gXCIwXCIgKyBkZCA6IFwiXCIgKyBkZDtcclxuXHRcdHJldHVybiBgJHt5eX0tJHttbVN0cn0tJHtkZFN0cn1gO1xyXG5cdH1cclxuXHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFszXSBcdUMxOERcdUMxMzEgXHVDN0FDXHVCQzMwXHVDRTU4ICYgXHVDODE1XHVCODJDIChDb2x1bW5zIFV0aWxpdGllcylcclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgICBbMy0xXSB0aXRsZS90YWdzIFx1QUNFMFx1QzgxNVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblx0cHJpdmF0ZSByZW9yZGVyUHJvcHMob3JpZ2luYWw6IGFueVtdKSB7XHJcblx0XHQvLyBwcm9wID09PSAndGl0bGUnIFx1Q0VFQ1x1QjdGQyBcdUNEOTRcdUNEOUNcclxuXHRcdGNvbnN0IHRpdGxlQ29sID0gb3JpZ2luYWwuZmluZChwID0+IHAucHJvcCA9PT0gJ3RpdGxlJyk7XHJcblx0XHQvLyBwcm9wID09PSAndGFncycgIFx1Q0VFQ1x1QjdGQyBcdUNEOTRcdUNEOUNcclxuXHRcdGNvbnN0IHRhZ0NvbCAgID0gb3JpZ2luYWwuZmluZChwID0+IHAucHJvcCA9PT0gJ3RhZ3MnKTtcclxuXHRcdC8vIFx1QjA5OFx1QkEzOFx1QzlDMCBcdUNFRUNcdUI3RkNcdUI0RTRcclxuXHRcdGNvbnN0IG1pZGRsZSAgID0gb3JpZ2luYWwuZmlsdGVyKHAgPT4gcC5wcm9wICE9PSAndGl0bGUnICYmIHAucHJvcCAhPT0gJ3RhZ3MnKTtcclxuXHJcblx0XHQvLyB0aXRsZSBcdTIxOTIgbWlkZGxlIFx1MjE5MiB0YWdzIFx1QzIxQ1x1QzczQ1x1Qjg1QyBcdUMwQzggXHVCQzMwXHVDNUY0IFx1QkMxOFx1RDY1OFxyXG5cdFx0cmV0dXJuIFtcclxuXHRcdFx0Li4uKHRpdGxlQ29sID8gW3RpdGxlQ29sXSA6IFtdKSxcclxuXHRcdFx0Li4ubWlkZGxlLFxyXG5cdFx0XHQuLi4odGFnQ29sID8gW3RhZ0NvbF0gOiBbXSlcclxuXHRcdF07XHJcblx0fVxyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzMtMl0gXHVDODE1XHVCODJDICh0aXRsZV9saW5rXHVDNzQwIFx1QkNDNFx1QjNDNCBcdUM4MTVcdUI4MkNcdUQ1NThcdUM5QzAgXHVDNTRBXHVDNzRDKVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblx0cHJpdmF0ZSBzb3J0QnlQcm9wKHBhZ2VzOiBhbnlbXSwgcHJvcDogc3RyaW5nIHwgbnVsbCwgZGlyOiBzdHJpbmcpIHtcclxuXHRcdGlmICghcHJvcCB8fCBwcm9wID09PSBcInRpdGxlX2xpbmtcIikgcmV0dXJuIHBhZ2VzO1xyXG5cdFx0ZGlyID0gZGlyIHx8IFwiYXNjXCI7XHJcblx0XHRyZXR1cm4gcGFnZXMuc29ydCgoYSwgYikgPT4ge1xyXG5cdFx0XHRjb25zdCBBID0gdGhpcy5nZXRWYWwoYSwgcHJvcCk7XHJcblx0XHRcdGNvbnN0IEIgPSB0aGlzLmdldFZhbChiLCBwcm9wKTtcclxuXHRcdFx0Y29uc3Qgc0EgPSB0aGlzLmdldFNvcnRWYWx1ZShBLCBwcm9wKTtcclxuXHRcdFx0Y29uc3Qgc0IgPSB0aGlzLmdldFNvcnRWYWx1ZShCLCBwcm9wKTtcclxuXHRcdFx0aWYgKHR5cGVvZiBzQSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2Ygc0IgPT09IFwibnVtYmVyXCIpIHtcclxuXHRcdFx0XHRyZXR1cm4gZGlyID09PSBcImFzY1wiID8gc0EgLSBzQiA6IHNCIC0gc0E7XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3Qgc3RyQSA9IFN0cmluZyhzQSk7XHJcblx0XHRcdGNvbnN0IHN0ckIgPSBTdHJpbmcoc0IpO1xyXG5cdFx0XHRyZXR1cm4gZGlyID09PSBcImFzY1wiID8gc3RyQS5sb2NhbGVDb21wYXJlKHN0ckIpIDogc3RyQi5sb2NhbGVDb21wYXJlKHN0ckEpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgICBbNF0gXHVENTQ0XHVEMTMwXHVCOUMxICYgXHVBQzgwXHVDMEM5IChGaWx0ZXJpbmcgJiBTZWFyY2gpXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzQtMV0gZnJvbnRtYXR0ZXIgXHVENTQ0XHVEMTMwXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwcml2YXRlIGFzeW5jIG1ha2VGaWx0ZXJCdXR0b24ocDogYW55LCBwYWdlczogYW55W10sIG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cdFx0YnRuLmNsYXNzTmFtZSA9IFwiaW50ZXJhY3RpdmVfdGFibGUtZmlsdGVyX19idG5cIjtcclxuXHRcdGNvbnN0IG5tID0gcC5uYW1lIHx8IHAucHJvcDtcclxuXHRcdGJ0bi5hcHBlbmQobm0pO1xyXG5cdFx0YnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdGF3YWl0IHRoaXMuY2hhbmdlUHJvcEZpbHRlcihwLCBwYWdlcywgbm90ZVBhdGgsIHZpZXdJZCk7XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGJ0bjtcclxuXHR9XHJcblx0cHJpdmF0ZSBhc3luYyBjaGFuZ2VQcm9wRmlsdGVyKHA6IGFueSwgcGFnZXM6IGFueVtdLCBub3RlUGF0aDogc3RyaW5nLCB2aWV3SWQ6IHN0cmluZykge1xyXG5cdFx0Y29uc3Qgc2V0T2ZWYWxzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcblx0XHRmb3IgKGNvbnN0IHBnIG9mIHBhZ2VzKSB7XHJcblx0XHRcdGxldCByYXdWYWwgPSB0aGlzLmdldFZhbChwZywgcC5wcm9wKTtcclxuXHRcdFx0bGV0IHZhbCA9IHRoaXMuZm9ybWF0QXNZWVlZTU1ERElmRGF0ZShyYXdWYWwpO1xyXG5cdFx0XHRpZiAoIXZhbCkgdmFsID0gXCItXCI7XHJcblx0XHRcdHNldE9mVmFscy5hZGQodmFsKTtcclxuXHRcdH1cclxuXHRcdGxldCBhcnJPZlZhbHMgPSBBcnJheS5mcm9tKHNldE9mVmFscyk7XHJcblx0XHRjb25zdCBoYXNEYXNoID0gYXJyT2ZWYWxzLmluY2x1ZGVzKFwiLVwiKTtcclxuXHRcdGlmIChoYXNEYXNoKSB7XHJcblx0XHRcdGFyck9mVmFscyA9IGFyck9mVmFscy5maWx0ZXIodiA9PiB2ICE9PSBcIi1cIik7XHJcblx0XHR9XHJcblx0XHRhcnJPZlZhbHMuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKTtcclxuXHRcdGNvbnN0IHV2ID0gaGFzRGFzaCA/IFtcIkFMTFwiLCBcIi1cIl0uY29uY2F0KGFyck9mVmFscykgOiBbXCJBTExcIiwgLi4uYXJyT2ZWYWxzXTtcclxuXHRcdGNvbnN0IGNob3NlbiA9IGF3YWl0IHRoaXMuc3VnZ2VzdGVyKHV2KTtcclxuXHRcdGlmICghY2hvc2VuKSByZXR1cm47XHJcblx0XHRjb25zdCBmS2V5ID0gYGZpbHRlcl8ke3ZpZXdJZH1fJHtwLnByb3B9YDtcclxuXHRcdHRoaXMuX3NldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIGZLZXksIGNob3Nlbik7XHJcblx0XHR0aGlzLnJlZnJlc2hDb21tYW5kKDUwKTtcclxuXHR9XHJcblx0cHJpdmF0ZSBhc3luYyBmaWx0ZXJCeVByb3AocDogYW55LCBwYWdlczogYW55W10sIG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBmS2V5ID0gYGZpbHRlcl8ke3ZpZXdJZH1fJHtwLnByb3B9YDtcclxuXHRcdGNvbnN0IHZhbCA9IHRoaXMuX2dldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIGZLZXkpO1xyXG5cdFx0aWYgKCF2YWwgfHwgdmFsID09PSBcIkFMTFwiKSByZXR1cm4gcGFnZXM7XHJcblx0XHRyZXR1cm4gcGFnZXMuZmlsdGVyKChwZykgPT4ge1xyXG5cdFx0XHRsZXQgcmF3ViA9IHRoaXMuZ2V0VmFsKHBnLCBwLnByb3ApO1xyXG5cdFx0XHRsZXQgY21wViA9IHRoaXMuZm9ybWF0QXNZWVlZTU1ERElmRGF0ZShyYXdWKTtcclxuXHRcdFx0aWYgKCFjbXBWKSBjbXBWID0gXCItXCI7XHJcblx0XHRcdHJldHVybiBjbXBWID09PSB2YWw7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgICBbNC0yXSB0YWcgXHVENTQ0XHVEMTMwXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwcml2YXRlIGFzeW5jIHJlbmRlclRhZ0ZpbHRlckJ1dHRvbihwYWdlczogYW55W10sIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBjdXJyZW50VGFnID0gdGhpcy5fZ2V0U3RhdGUobm90ZVBhdGgsIHZpZXdJZCwgXCJ0YWdGaWx0ZXJcIikgfHwgXCJBTExcIjtcclxuXHRcdFx0Y29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuXHRcdFx0YnRuLmNsYXNzTmFtZSA9IFwiaW50ZXJhY3RpdmVfdGFibGUtYnV0dG9uIGludGVyYWN0aXZlX3RhYmxlLWJ1dHRvbi0tdGFnLWZpbHRlclwiO1xyXG5cdFx0XHRidG4udGV4dENvbnRlbnQgPSBjdXJyZW50VGFnO1xyXG5cdFx0XHRidG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0Y29uc3QgYWxsVGFncyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG5cdFx0XHRcdFx0cGFnZXMuZm9yRWFjaCgocGcpID0+IHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgdGcgPSBwZz8uZmlsZT8udGFncyB8fCBwZz8udGFncztcclxuXHRcdFx0XHRcdFx0aWYgKCF0ZykgcmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheSh0ZykpIHRnLmZvckVhY2goKHh4KSA9PiBhbGxUYWdzLmFkZCh4eCkpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRjb25zdCBhcnIgPSBbXCJBTExcIiwgLi4uQXJyYXkuZnJvbShhbGxUYWdzKS5zb3J0KCldO1xyXG5cdFx0XHRcdFx0Y29uc3QgY2hvc2VuID0gYXdhaXQgdGhpcy5zdWdnZXN0ZXIoYXJyKTtcclxuXHRcdFx0XHRcdGlmICghY2hvc2VuKSByZXR1cm47XHJcblx0XHRcdFx0XHR0aGlzLl9zZXRTdGF0ZShub3RlUGF0aCwgdmlld0lkLCBcInRhZ0ZpbHRlclwiLCBjaG9zZW4pO1xyXG5cdFx0XHRcdFx0dGhpcy5yZWZyZXNoQ29tbWFuZCg1MCk7XHJcblx0XHRcdFx0fSBjYXRjaCB7fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoYnRuKTtcclxuXHRcdH0gY2F0Y2gge31cclxuXHR9XHJcblx0cHJpdmF0ZSBhc3luYyBhcHBseVRhZ0ZpbHRlcihwYWdlczogYW55W10sIG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKSB7XHJcblx0XHRjb25zdCB0ZyA9IHRoaXMuX2dldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIFwidGFnRmlsdGVyXCIpIHx8IFwiQUxMXCI7XHJcblx0XHRpZiAodGcgPT09IFwiQUxMXCIpIHJldHVybiBwYWdlcztcclxuXHRcdHJldHVybiBwYWdlcy5maWx0ZXIoKHBnKSA9PiB7XHJcblx0XHRcdGNvbnN0IGFyciA9IHBnPy5maWxlPy50YWdzIHx8IHBnPy50YWdzO1xyXG5cdFx0XHRyZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpICYmIGFyci5pbmNsdWRlcyh0Zyk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgICBbNC0zXSBcdUM4MDRcdUNDQjQgXHVBQzgwXHVDMEM5XHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHQvLyBcdUFDODBcdUMwQzkgXHVEMTREXHVDMkE0XHVEMkI4IFx1QjM3MFx1Qzc3NFx1RDEzMFx1QzE0QiBcdUFENkNcdUNEOTVcclxuXHRwcml2YXRlIGJ1aWxkU2VhcmNoVGV4dE1hcChwcm9wczogYW55W10sIHBhZ2VzOiBhbnlbXSkge1xyXG5cdFx0Y29uc3QgdGFibGVQcm9wcyA9IHByb3BzLmZpbHRlcigoYykgPT4gYy5jb2x1bW4pO1xyXG5cdFx0cGFnZXMuZm9yRWFjaCgocGcpID0+IHtcclxuXHRcdFx0Y29uc3QgYnVmOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0XHR0YWJsZVByb3BzLmZvckVhY2goKGNvbCkgPT4ge1xyXG5cdFx0XHRcdGxldCB0djogc3RyaW5nO1xyXG5cdFx0XHRcdGlmIChjb2wucHJvcCA9PT0gXCJ0aXRsZV9saW5rXCIpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGFsaWFzUGFydCA9IHBnLl9fZm1UaXRsZSB8fCBcIlwiO1xyXG5cdFx0XHRcdFx0dHYgPSBhbGlhc1BhcnQ7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChjb2wucHJvcCA9PT0gXCJ0YWJsZVwiKSB7XHJcblx0XHRcdFx0XHR0diA9IHBnLl9fZm1UYWJsZSB8fCBcIlwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb25zdCByYXdWYWwgPSB0aGlzLmdldFZhbChwZywgY29sLnByb3ApO1xyXG5cdFx0XHRcdFx0dHYgPSByYXdWYWwgPT0gbnVsbCA/IFwiXCIgOiBTdHJpbmcocmF3VmFsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YnVmLnB1c2godHYudG9Mb3dlckNhc2UoKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRwZy5fX3NlYXJjaFRleHQgPSBidWYuam9pbihcIiBcIik7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0Ly8gXHVBQzgwXHVDMEM5IFx1Qjg1Q1x1QzlDMSAoRnJvbnRtYXR0ZXIgLT4gdGFncyAtPiB0ZXh0KVxyXG5cdHByaXZhdGUgYXN5bmMgZmlsdGVyUHJvcHMocHJvcHM6IGFueVtdLCBwYWdlczogYW55W10sIG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKSB7XHJcblx0XHRmb3IgKGNvbnN0IHAgb2YgcHJvcHMuZmlsdGVyKCh4KSA9PiB4LmZpbHRlcikpIHtcclxuXHRcdFx0cGFnZXMgPSBhd2FpdCB0aGlzLmZpbHRlckJ5UHJvcChwLCBwYWdlcywgbm90ZVBhdGgsIHZpZXdJZCk7XHJcblx0XHR9XHJcblx0XHRwYWdlcyA9IGF3YWl0IHRoaXMuYXBwbHlUYWdGaWx0ZXIocGFnZXMsIG5vdGVQYXRoLCB2aWV3SWQpO1xyXG5cdFx0Y29uc3Qgc3IgPSB0aGlzLl9nZXRTdGF0ZShub3RlUGF0aCwgdmlld0lkLCBgc2VhcmNoX3JlYWR5XyR7dmlld0lkfWApO1xyXG5cdFx0aWYgKHNyKSB7XHJcblx0XHRcdGxldCBzVmFsID0gKHRoaXMuX2dldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIGBzZWFyY2hfJHt2aWV3SWR9YCkgfHwgXCJcIikudHJpbSgpO1xyXG5cdFx0XHRpZiAoc1ZhbC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0Y29uc3Qgd3MgPSBzVmFsLnNwbGl0KFwiIFwiKTtcclxuXHRcdFx0XHR0aGlzLmJ1aWxkU2VhcmNoVGV4dE1hcChwcm9wcywgcGFnZXMpO1xyXG5cdFx0XHRcdGZvciAobGV0IHcgb2Ygd3MpIHtcclxuXHRcdFx0XHRcdHcgPSB3LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdFx0aWYgKHcubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRwYWdlcyA9IHBhZ2VzLmZpbHRlcigocGcpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCB0eHQgPSBwZy5fX3NlYXJjaFRleHQgfHwgXCJcIjtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHh0LmluY2x1ZGVzKHcpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBwYWdlcztcclxuXHR9XHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFs1XSBcdUQzOThcdUM3NzRcdUM5QzBcdUIxMjRcdUM3NzRcdUMxNTggKFBhZ2luYXRpb24pXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzUtMV0gXHVCQzMwXHVDNUY0XHVDNUQwXHVDMTFDIFx1MjAxQ1x1RDYwNFx1QzdBQyBcdUQzOThcdUM3NzRcdUM5QzBcdTIwMURcdUM1RDAgXHVENTc0XHVCMkY5XHVENTU4XHVCMjk0IFx1QjM3MFx1Qzc3NFx1RDEzMFx1QjlDQyBcdUM3OThcdUI3N0MgXHVCQzE4XHVENjU4XHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwcml2YXRlIHBhZ2luYXRlKGFycjogYW55W10sIHBlcjogbnVtYmVyLCBub3RlUGF0aDogc3RyaW5nLCB2aWV3SWQ6IHN0cmluZykge1xyXG5cdFx0Y29uc3Qga2V5ID0gYHBhZ2luYXRpb25fJHt2aWV3SWR9YDtcclxuXHRcdGNvbnN0IHRvdGFsUGFnZXMgPSBwZXIgPiAwID8gTWF0aC5jZWlsKGFyci5sZW5ndGggLyBwZXIpIDogMTtcclxuXHRcdGxldCBwYWdlSWR4ID0gdGhpcy5fZ2V0U3RhdGUobm90ZVBhdGgsIHZpZXdJZCwga2V5KSB8fCAwO1xyXG5cdFxyXG5cdFx0aWYgKHBhZ2VJZHggPj0gdG90YWxQYWdlcykge1xyXG5cdFx0ICBwYWdlSWR4ID0gdG90YWxQYWdlcyAtIDE7XHJcblx0XHQgIHRoaXMuX3NldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIGtleSwgcGFnZUlkeCk7XHJcblx0XHR9XHJcblx0XHJcblx0XHRyZXR1cm4gcGVyID4gMFxyXG5cdFx0ICA/IGFyci5zbGljZShwYWdlSWR4ICogcGVyLCAocGFnZUlkeCArIDEpICogcGVyKVxyXG5cdFx0ICA6IFsuLi5hcnJdO1xyXG5cdH1cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFs1LTJdIFx1RDM5OFx1Qzc3NFx1QzlDMCBcdUJDODhcdUQ2MzgvXHVDNzc0XHVCM0Q5IFx1QkM4NFx1RDJCQ1x1Qzc3NCBcdUI0RTRcdUM1QjRcdUFDMDggXHUyMDFDcGFnaW5hdGlvbiBibG9ja1x1MjAxRCBVSVx1Qjk3QyBcdUMwRERcdUMxMzFcclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdHByaXZhdGUgYXN5bmMgcGFnaW5hdGlvbkJsb2NrKGRhdGE6IGFueVtdLCBwZXI6IG51bWJlciwgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbm90ZVBhdGg6IHN0cmluZywgdmlld0lkOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IGtleSA9IGBwYWdpbmF0aW9uXyR7dmlld0lkfWA7XHJcblx0XHRjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKGRhdGEubGVuZ3RoIC8gcGVyKTtcclxuXHRcdGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0d3JhcC5jbGFzc05hbWUgPSBcImludGVyYWN0aXZlX3RhYmxlLXBhZ2luYXRpb25cIjtcclxuXHJcblx0XHRjb25zdCBwcnYgPSBhd2FpdCB0aGlzLnByZXZQYWdlQnV0dG9uKHRvdGFsUGFnZXMsIGtleSwgbm90ZVBhdGgsIHZpZXdJZCk7XHJcblx0XHR3cmFwLmFwcGVuZENoaWxkKHBydik7XHJcblxyXG5cdFx0Y29uc3QgY3VyUyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG5cdFx0Y29uc3QgY3YgPSAodGhpcy5fZ2V0U3RhdGUobm90ZVBhdGgsIHZpZXdJZCwga2V5KSB8fCAwKSArIDE7XHJcblx0XHRjdXJTLnRleHRDb250ZW50ID0gYCR7Y3Z9IC8gJHt0b3RhbFBhZ2VzfWA7XHJcblx0XHR3cmFwLmFwcGVuZENoaWxkKGN1clMpO1xyXG5cclxuXHRcdGNvbnN0IG54dCA9IGF3YWl0IHRoaXMubmV4dFBhZ2VCdXR0b24odG90YWxQYWdlcywga2V5LCBub3RlUGF0aCwgdmlld0lkKTtcclxuXHRcdHdyYXAuYXBwZW5kQ2hpbGQobnh0KTtcclxuXHJcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQod3JhcCk7XHJcblx0fVxyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzUtM10gXHUyMDFDXHVCMkU0XHVDNzRDIFx1RDM5OFx1Qzc3NFx1QzlDMFx1MjAxRCAvIFx1MjAxQ1x1Qzc3NFx1QzgwNCBcdUQzOThcdUM3NzRcdUM5QzBcdTIwMUQgXHVCQzg0XHVEMkJDIFx1QzBERFx1QzEzMVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblx0cHJpdmF0ZSBhc3luYyBuZXh0UGFnZUJ1dHRvbih0b3RhbFBhZ2VzOiBudW1iZXIsIHN0b3JlS2V5OiBzdHJpbmcsIG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBjdiA9IHRoaXMuX2dldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIHN0b3JlS2V5KSB8fCAwO1xyXG5cdFx0Y29uc3QgY2FuTmV4dCA9IGN2ICsgMSA8IHRvdGFsUGFnZXM7XHJcblx0XHRjb25zdCBiYXNlID0gXCJpbnRlcmFjdGl2ZV90YWJsZS1wYWdpbmF0aW9uX19idG5cIjtcclxuXHRcdGNvbnN0IGJDbGFzcyA9IGNhbk5leHQgPyBiYXNlOiBgJHtiYXNlfSAke2Jhc2V9LS1kaXNhYmxlZGA7XHJcblxyXG5cdFx0Y29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuXHRcdGJ0bi5jbGFzc05hbWUgPSBiQ2xhc3M7XHJcblx0XHRidG4uYXBwZW5kKFwiPj5cIik7XHJcblx0XHRidG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0aWYgKCFjYW5OZXh0KSByZXR1cm47XHJcblx0XHRcdHRoaXMuX3NldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIHN0b3JlS2V5LCBjdiArIDEpO1xyXG5cdFx0XHRjb25zdCBlbD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuaW50ZXJhY3RpdmVfdGFibGUtdmlldy0tJHt2aWV3SWR9YCk7XHJcblx0XHRcdGlmKGVsKSBlbC5zY3JvbGxJbnRvVmlldyh7YmVoYXZpb3I6XCJzbW9vdGhcIixibG9jazpcInN0YXJ0XCJ9KTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoQ29tbWFuZCg2MCk7XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGJ0bjtcclxuXHR9XHJcblx0cHJpdmF0ZSBhc3luYyBwcmV2UGFnZUJ1dHRvbih0b3RhbFBhZ2VzOiBudW1iZXIsIHN0b3JlS2V5OiBzdHJpbmcsIG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBjdiA9IHRoaXMuX2dldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIHN0b3JlS2V5KSB8fCAwO1xyXG5cdFx0Y29uc3QgY2FuUHJldiA9IGN2ID4gMDtcclxuXHRcdGNvbnN0IGJhc2UgPSBcImludGVyYWN0aXZlX3RhYmxlLXBhZ2luYXRpb25fX2J0blwiO1xyXG5cdFx0Y29uc3QgYkNsYXNzID0gY2FuUHJldiA/IGJhc2U6IGAke2Jhc2V9ICR7YmFzZX0tLWRpc2FibGVkYDtcclxuXHJcblx0XHRjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cdFx0YnRuLmNsYXNzTmFtZSA9IGJDbGFzcztcclxuXHRcdGJ0bi5hcHBlbmQoXCI8PFwiKTtcclxuXHRcdGJ0bi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRpZiAoIWNhblByZXYpIHJldHVybjtcclxuXHRcdFx0dGhpcy5fc2V0U3RhdGUobm90ZVBhdGgsIHZpZXdJZCwgc3RvcmVLZXksIGN2IC0gMSk7XHJcblx0XHRcdGNvbnN0IGVsPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5pbnRlcmFjdGl2ZV90YWJsZS12aWV3LS0ke3ZpZXdJZH1gKTtcclxuXHRcdFx0aWYoZWwpIGVsLnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjpcInNtb290aFwiLGJsb2NrOlwic3RhcnRcIn0pO1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hDb21tYW5kKDYwKTtcclxuXHRcdH07XHJcblx0XHRyZXR1cm4gYnRuO1xyXG5cdH1cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzZdIFVJIFx1Q0VGNFx1RDNFQ1x1QjEwQ1x1RDJCOCBcdUMwRERcdUMxMzEgKFVJIEVsZW1lbnRzKVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFs2LTFdIFx1QkM4NFx1RDJCQyBcdUFDQzRcdUM1RjRcclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdC8vIFs2LTEtMV0gT3BlbiBGb2xkZXIgXHVCQzg0XHVEMkJDKFx1RDMwQ1x1Qzc3Q1x1RDBEMFx1QzBDOVx1QUUzMClcclxuXHRhc3luYyB2aWV3Rm9sZGVyQnV0dG9uKHJlbFBhdGg6IHN0cmluZywgY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG5cdFx0Y29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuXHRcdGJ0bi5jbGFzc05hbWUgPSBcImludGVyYWN0aXZlX3RhYmxlLWJ1dHRvbiBpbnRlcmFjdGl2ZV90YWJsZS1idXR0b24tLW9wZW4tZm9sZGVyXCI7XHJcblx0XHRidG4uYXBwZW5kKFwiXHUyMUFBIE9wZW4gRm9sZGVyXCIpO1xyXG5cdFx0YnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgeyBzaGVsbCB9ID0gKHdpbmRvdyBhcyBhbnkpLnJlcXVpcmUoXCJlbGVjdHJvblwiKTtcclxuXHRcdFx0XHRjb25zdCBwYXRoTW9kID0gKHdpbmRvdyBhcyBhbnkpLnJlcXVpcmUoXCJwYXRoXCIpO1xyXG5cdFx0XHRcdGlmICghc2hlbGwpIHtcclxuXHRcdFx0XHRcdG5ldyAoZ2xvYmFsVGhpcyBhcyBhbnkpLmNvdmVyVGFibGUub2JzaWRpYW4uTm90aWNlKFwiRWxlY3Ryb24gc2hlbGwgaXMgdW5kZWZpbmVkIVwiKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y29uc3QgdmF1bHRCYXNlID0gKHRoaXMuYXBwLnZhdWx0LmFkYXB0ZXIgYXMgYW55KS5iYXNlUGF0aDtcclxuXHRcdFx0XHRjb25zdCBhYnNvbHV0ZVBhdGggPSBwYXRoTW9kLnJlc29sdmUodmF1bHRCYXNlLCByZWxQYXRoKTtcclxuXHRcdFx0XHRjb25zdCBpc0ZpbGUgPSBwYXRoTW9kLmV4dG5hbWUoYWJzb2x1dGVQYXRoKSAhPT0gXCJcIjtcclxuXHRcdFx0XHRpZiAoaXNGaWxlKSB7XHJcblx0XHRcdFx0XHRzaGVsbC5zaG93SXRlbUluRm9sZGVyKGFic29sdXRlUGF0aCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNoZWxsLm9wZW5QYXRoKGFic29sdXRlUGF0aCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlOiBhbnkpIHtcclxuXHRcdFx0XHRuZXcgKGdsb2JhbFRoaXMgYXMgYW55KS5jb3ZlclRhYmxlLm9ic2lkaWFuLk5vdGljZShgRXJyb3I6XFxuJHtlLm1lc3NhZ2V9YCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRjb250YWluZXIuYXBwZW5kKGJ0bik7XHJcblx0fVxyXG5cdC8vIFs2LTEtMl0gTmV3IG5vdGUgXHVCQzg0XHVEMkJDXHJcblx0cHJpdmF0ZSBhc3luYyBuZXdOb3RlQnV0dG9uKGR2OiBhbnksIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuXHRcdGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcblx0XHRidG4uY2xhc3NOYW1lID0gXCJpbnRlcmFjdGl2ZV90YWJsZS1idXR0b24gaW50ZXJhY3RpdmVfdGFibGUtYnV0dG9uLS1uZXctbm90ZVwiO1xyXG5cdFx0YnRuLmFwcGVuZChcIisgTmV3IG5vdGVcIik7XHJcblx0XHRidG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBjdXJGaWxlID1kdi5jdXJyZW50Py4oKT8uZmlsZTtcclxuXHRcdFx0XHRjb25zdCB0YXJnZXREaXIgPSB0aGlzLmFwcC5maWxlTWFuYWdlci5nZXROZXdGaWxlUGFyZW50KGN1ckZpbGU/LnBhdGggPz8gXCJcIik7XHJcblx0XHRcdFx0Y29uc3QgbmV3RmlsZSA9IGF3YWl0IHRoaXMuYXBwLmZpbGVNYW5hZ2VyLmNyZWF0ZU5ld01hcmtkb3duRmlsZSh0YXJnZXREaXIsIFwiVW50aXRsZWRcIik7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldExlYWYodHJ1ZSkub3BlbkZpbGUobmV3RmlsZSk7XHJcblx0XHRcdFx0bmV3IChnbG9iYWxUaGlzIGFzIGFueSkuY292ZXJUYWJsZS5vYnNpZGlhbi5Ob3RpY2UoYE5vdGUgY3JlYXRlZDogJHtuZXdGaWxlLnBhdGh9YCk7XHJcblx0XHRcdH0gY2F0Y2ggKGU6IGFueSkge1xyXG5cdFx0XHRcdG5ldyAoZ2xvYmFsVGhpcyBhcyBhbnkpLmNvdmVyVGFibGUub2JzaWRpYW4uTm90aWNlKGBFcnJvcjpcXG4ke2UubWVzc2FnZX1gKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNvbnRhaW5lci5hcHBlbmQoYnRuKTtcclxuXHR9XHJcblx0Ly8gWzYtMS0zXSBSZWZyZXNoIFx1QkM4NFx1RDJCQ1xyXG5cdGFzeW5jIHJlZnJlc2hCdXR0b24oY29udGFpbmVyOiBIVE1MRWxlbWVudCwgbm90ZVBhdGg6IHN0cmluZywgdmlld0lkOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcblx0XHRidG4uY2xhc3NOYW1lID0gXCJpbnRlcmFjdGl2ZV90YWJsZS1idXR0b24gaW50ZXJhY3RpdmVfdGFibGUtYnV0dG9uLS1yZWZyZXNoXCI7XHJcblx0XHRidG4uc3R5bGUubWFyZ2luUmlnaHQgPSBcIjhweFwiO1xyXG5cdFx0YnRuLmFwcGVuZChcIlx1MjFCQVwiKTtcclxuXHRcdGJ0bi5vbmNsaWNrID0gYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHR0aGlzLl9zZXRTdGF0ZShub3RlUGF0aCwgdmlld0lkLCBgc29ydF8ke3ZpZXdJZH1gLCBudWxsKTtcclxuXHRcdFx0dGhpcy5fc2V0U3RhdGUobm90ZVBhdGgsIHZpZXdJZCwgYHNvcnRfZGlyZWN0aW9uXyR7dmlld0lkfWAsIFwiYXNjXCIpO1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hDb21tYW5kKDUwKTtcclxuXHRcdH07XHJcblx0XHRjb250YWluZXIuYXBwZW5kKGJ0bik7XHJcblx0fVxyXG5cdC8vIFs2LTEtNF0gXHVBQzgwXHVDMEM5XHVDQzNELCBcdUFDODBcdUMwQzlcdUJDODRcdUQyQkMgXHVBRDZDXHVDRDk1XHJcblx0cHJpdmF0ZSBhc3luYyBzZWFyY2hJbnB1dChjb250YWluZXI6IEhUTUxFbGVtZW50LCBub3RlUGF0aDogc3RyaW5nLCB2aWV3SWQ6IHN0cmluZykge1xyXG5cdFx0Ly8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwIFx1Qjc5OFx1RDM3QyBkaXYgXHVCOUNDXHVCNEU0XHVBRTMwIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxyXG5cdFx0Y29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHR3cmFwLmNsYXNzTmFtZSA9IFwiaW50ZXJhY3RpdmVfdGFibGUtc2VhcmNoXCI7XHJcblx0XHR3cmFwLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHRcdHdyYXAuc3R5bGUuYWxpZ25JdGVtcyA9IFwiY2VudGVyXCI7XHJcblx0XHQvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAgXHVDNzc0XHVDODA0IFx1QUM4MFx1QzBDOSBcdUMwQzFcdUQwREMgXHVCODVDXHVCNERDIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxyXG5cdFx0Y29uc3Qgc0tleSA9IGBzZWFyY2hfJHt2aWV3SWR9YDtcclxuXHRcdGNvbnN0IHNWYWwgPSB0aGlzLl9nZXRTdGF0ZShub3RlUGF0aCwgdmlld0lkLCBzS2V5KSB8fCBcIlwiO1xyXG5cdFx0Y29uc3Qgd2FzRm9jdXNlZCA9IHRoaXMuX2dldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIGBzZWFyY2hfZm9jdXNfJHt2aWV3SWR9YCkgPT09IHRydWU7XHJcblx0XHQvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAgXHVDNzg1XHVCODI1XHVDQzNEIFx1QzBERFx1QzEzMSBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcclxuXHRcdGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG5cdFx0aW5wdXQuY2xhc3NOYW1lID0gXCJpbnRlcmFjdGl2ZV90YWJsZS1zZWFyY2hfX2lucHV0XCI7XHJcblx0XHRpbnB1dC52YWx1ZSA9IHNWYWw7XHJcblx0XHRpbnB1dC5wbGFjZWhvbGRlciA9IFwiXHVBQzgwXHVDMEM5Li4uXCI7XHJcblx0XHRpbnB1dC5zdHlsZS5tYXJnaW5SaWdodCA9IFwiOHB4XCI7XHJcblxyXG5cdFx0aWYgKHdhc0ZvY3VzZWQpIHtcclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiBpbnB1dC5mb2N1cygpLCAwKTtcclxuXHRcdH1cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuX3NldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIGBzZWFyY2hfZm9jdXNfJHt2aWV3SWR9YCwgdHJ1ZSk7XHJcblx0XHR9KTtcclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsICgpID0+IHtcclxuXHRcdFx0dGhpcy5fc2V0U3RhdGUobm90ZVBhdGgsIHZpZXdJZCwgYHNlYXJjaF9mb2N1c18ke3ZpZXdJZH1gLCBmYWxzZSk7XHJcblx0XHR9KTtcclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcblx0XHRcdGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcblx0XHRcdFx0dGhpcy5fc2V0U3RhdGUobm90ZVBhdGgsIHZpZXdJZCwgc0tleSwgaW5wdXQudmFsdWUpO1xyXG5cdFx0XHRcdHRoaXMuX3NldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIGBzZWFyY2hfcmVhZHlfJHt2aWV3SWR9YCwgdHJ1ZSk7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoQ29tbWFuZCg4MCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0d3JhcC5hcHBlbmRDaGlsZChpbnB1dCk7XHJcblx0XHQvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAgXHVBQzgwXHVDMEM5IFx1QkM4NFx1RDJCQyBcdUMwRERcdUMxMzEgXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHJcblx0XHRjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cdFx0YnRuLmNsYXNzTmFtZSA9IFwiaW50ZXJhY3RpdmVfdGFibGUtc2VhcmNoX19idG5cIjtcclxuXHRcdGJ0bi5pbm5lclRleHQgPSBcIlx1MjMxNVwiO1xyXG5cdFx0YnRuLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcblx0XHRcdHRoaXMuX3NldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIHNLZXksIGlucHV0LnZhbHVlKTtcclxuXHRcdFx0dGhpcy5fc2V0U3RhdGUobm90ZVBhdGgsIHZpZXdJZCwgYHNlYXJjaF9yZWFkeV8ke3ZpZXdJZH1gLCB0cnVlKTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoQ29tbWFuZCg4MCk7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4gaW5wdXQuZm9jdXMoKSwgODApO1xyXG5cdFx0fTtcclxuXHRcdHdyYXAuYXBwZW5kQ2hpbGQoYnRuKTtcclxuXHRcdC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMCBcdUNENUNcdUM4ODUgXHVDMEJEXHVDNzg1IFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxyXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHdyYXApO1xyXG5cdH1cclxuXHQvLyBbNi0xLTVdIFx1RDU0NFx1RDEzMCBcdUJDODRcdUQyQkMgXHVCODBDXHVCMzU0XHVCN0VDIChGaWx0ZXIgQnV0dG9uIFByb3BzKVxyXG5cdHByaXZhdGUgYXN5bmMgZmlsdGVyQnV0dG9uUHJvcHMocHJvcHM6IGFueVtdLCBwYWdlczogYW55W10sIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG5vdGVQYXRoOiBzdHJpbmcsIHZpZXdJZDogc3RyaW5nKSB7XHJcblx0XHRjb25zdCBmbHQgPSBwcm9wcy5maWx0ZXIoKHBwKSA9PiBwcC5maWx0ZXIpO1xyXG5cdFx0aWYgKGZsdC5sZW5ndGggPT09IDApIHJldHVybjtcclxuXHRcdGNvbnN0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0d3JhcC5jbGFzc05hbWUgPSBcImludGVyYWN0aXZlX3RhYmxlLWZpbHRlcl9fYnV0dG9uc1wiO1xyXG5cdFx0Zm9yIChjb25zdCBwIG9mIGZsdCkge1xyXG5cdFx0XHRjb25zdCBiID0gYXdhaXQgdGhpcy5tYWtlRmlsdGVyQnV0dG9uKHAsIHBhZ2VzLCBub3RlUGF0aCwgdmlld0lkKTtcclxuXHRcdFx0d3JhcC5hcHBlbmRDaGlsZChiKTtcclxuXHRcdH1cclxuXHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZCh3cmFwKTtcclxuXHR9XHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgICBbNi0yXSBcdUM3NzhcdUI3N0NcdUM3NzggXHVEM0I4XHVDOUQxIFx1RDU3OFx1QjRFNFx1QjdFQyAoSW5saW5lIEVkaXRpbmcpXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwcml2YXRlIGFzeW5jIGVkaXRQcm9wKHR5cGU6IHN0cmluZywgcGF0aDogc3RyaW5nLCBwcm9wOiBzdHJpbmcpIHtcclxuXHRcdGNvbnN0IGZpbGUgPSBhcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xyXG5cdFx0aWYgKCFmaWxlKSByZXR1cm47XHJcblx0XHRpZiAodHlwZSA9PT0gXCJmaWxlIG5hbWVcIiAmJiBmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcclxuXHRcdFx0Y29uc3Qgb2xkTmFtZSA9IGZpbGUuYmFzZW5hbWU7XHJcblx0XHRcdGNvbnN0IG5ld05hbWUgPSBhd2FpdCB0aGlzLnRleHRJbnB1dChvbGROYW1lKTtcclxuXHRcdFx0aWYgKCFuZXdOYW1lKSByZXR1cm47XHJcblx0XHRcdGNvbnN0IGZvbGRlciA9IGZpbGUucGFyZW50Py5wYXRoIHx8IFwiXCI7XHJcblx0XHRcdGNvbnN0IGV4dCA9IGZpbGUuZXh0ZW5zaW9uO1xyXG5cdFx0XHRjb25zdCBuZXdQYXRoID0gZm9sZGVyID8gYCR7Zm9sZGVyfS8ke25ld05hbWV9LiR7ZXh0fWAgOiBgJHtuZXdOYW1lfS4ke2V4dH1gO1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5yZW5hbWUoZmlsZSwgbmV3UGF0aCk7XHJcblx0XHRcdHRoaXMucmVmcmVzaENvbW1hbmQoNTApO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHR0aGlzLnJlZnJlc2hDb21tYW5kKDUwKTtcclxuXHR9XHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQgICBbNi0zXSBcdUJBQThcdUIyRUMgXHVENUVDXHVEMzdDIChNb2RhbCBVdGlsaXRpZXMpXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwcml2YXRlIGFzeW5jIHRleHRJbnB1dChkZWZhdWx0VmFsOiBzdHJpbmcpIHtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmcgfCBudWxsPigocmVzb2x2ZSkgPT4ge1xyXG5cdFx0XHRjb25zdCB7IE1vZGFsIH0gPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLmNvdmVyVGFibGUub2JzaWRpYW47XHJcblx0XHRcdGNsYXNzIE15TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0XHRcdFx0cmVzdWx0OiBzdHJpbmc7XHJcblx0XHRcdFx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuXHRcdFx0XHRcdHN1cGVyKGFwcCk7XHJcblx0XHRcdFx0XHR0aGlzLnJlc3VsdCA9IGRlZmF1bHRWYWw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdG9uT3BlbigpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0XHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwiaDFcIiwgeyB0ZXh0OiBcIklucHV0XCIgfSk7XHJcblx0XHRcdFx0XHRjb25zdCBpbnAgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJpbnB1dFwiKTtcclxuXHRcdFx0XHRcdGlucC52YWx1ZSA9IHRoaXMucmVzdWx0O1xyXG5cdFx0XHRcdFx0aW5wLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcblx0XHRcdFx0XHRpbnAuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2KSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChldi5rZXkgPT09IFwiRW50ZXJcIikge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucmVzdWx0ID0gaW5wLnZhbHVlLnRyaW0oKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSh0aGlzLnJlc3VsdCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Y29uc3Qgb2tCdG4gPSBjb250ZW50RWwuY3JlYXRlRWwoXCJidXR0b25cIiwgeyB0ZXh0OiBcIk9LXCIgfSk7XHJcblx0XHRcdFx0XHRva0J0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlc3VsdCA9IGlucC52YWx1ZS50cmltKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSh0aGlzLnJlc3VsdCk7XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRvbkNsb3NlKCkge1xyXG5cdFx0XHRcdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0bmV3IE15TW9kYWwoYXBwKS5vcGVuKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0cHJpdmF0ZSBhc3luYyBzdWdnZXN0ZXIodmFsczogc3RyaW5nW10pIHtcclxuXHRcdGNvbnN0IHsgU3VnZ2VzdE1vZGFsIH0gPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLmNvdmVyVGFibGUub2JzaWRpYW47XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nIHwgbnVsbD4oKHJlc29sdmUpID0+IHtcclxuXHRcdFx0Y2xhc3MgTXlTdWdnIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xyXG5cdFx0XHRcdGdldFN1Z2dlc3Rpb25zKHE6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuXHRcdFx0XHRcdHJldHVybiB2YWxzLmZpbHRlcigoeCkgPT4geC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHEudG9Mb3dlckNhc2UoKSkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZW5kZXJTdWdnZXN0aW9uKHZhbDogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpIHtcclxuXHRcdFx0XHRcdGVsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dDogdmFsIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRvbkNob29zZVN1Z2dlc3Rpb24odmFsOiBzdHJpbmcpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUodmFsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0bmV3IE15U3VnZyhhcHApLm9wZW4oKTtcclxuXHRcdH0pLmNhdGNoKCgpID0+IG51bGwpO1xyXG5cdH1cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFs2LTRdIFx1RDE0Q1x1Qzc3NFx1QkUxNCBcdUMwRERcdUMxMzEgKFx1RDVFNFx1QjM1NCBcdUMwRERcdUMxMzEgXHUyMTkyIFx1RDU4OSBcdUMwRERcdUMxMzEgXHUyMTkyIFx1Qzc3NFx1QkNBNFx1RDJCOCBcdUJDMTRcdUM3NzhcdUI1MjkpXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwcml2YXRlIGFzeW5jIGNyZWF0ZVRhYmxlKHByb3BzOiBhbnlbXSwgcGFnZXM6IGFueVtdLCBjb250YWluZXI6IEhUTUxFbGVtZW50LCBub3RlUGF0aDogc3RyaW5nLCB2aWV3SWQ6IHN0cmluZywgZW50cmllc1BlclBhZ2U6IG51bWJlciwgc2V0dGluZ3M6IGFueSkge1xyXG5cdFx0Ly8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwIDEpIFx1RDUwNFx1Qjg2MFx1RDJCOFx1QjlFNFx1RDEzMCB0aXRsZSBcdUM5MDBcdUJFNDQgJiBcdUM1RjQgXHVDN0FDXHVDODE1XHVCODJDIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxyXG5cdFx0cHJvcHMgPSB0aGlzLnJlb3JkZXJQcm9wcyhwcm9wcyk7ICAgICAgICAvLyB0aXRsZVx1MDBCN3RhZ3MgXHVBQ0UwXHVDODE1IFx1QzcwNFx1Q0U1OFxyXG5cdFx0cGFnZXMuZm9yRWFjaChwZyA9PiB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Ly8gRGF0YXZpZXcgQVBJXHVCODVDIGZyb250bWF0dGVyLnRpdGxlIFx1QUMwMFx1QzgzOFx1QzYyNFx1QUUzMChcdUFDMDBcdUIyQTVcdUQ1NjAgXHVCNTRDKVxyXG5cdFx0XHRcdGNvbnN0IGR2UGFnZSA9IHRoaXMuZHY/LnBhZ2UocGcuZmlsZS5wYXRoKTtcclxuXHRcdFx0XHRwZy5fX2ZtVGl0bGUgPSBkdlBhZ2U/LmZyb250bWF0dGVyPy50aXRsZSB8fCBkdlBhZ2U/LnRpdGxlIHx8IFwiXCI7XHJcblx0XHRcdH0gY2F0Y2gge1xyXG5cdFx0XHRcdC8vIERhdGF2aWV3IFx1QzJFNFx1RDMyOCBcdTIxRDIgXHVDNkQwXHVCQ0Y4IGZyb250bWF0dGVyXHVCODVDIFx1QjMwMFx1Q0NCNFxyXG5cdFx0XHRcdHBnLl9fZm1UaXRsZSA9IHBnLmZyb250bWF0dGVyPy50aXRsZSB8fCBcIlwiO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAgMikgXHVDMThEXHVDMTMxXHUwMEI3XHVEMERDXHVBREY4XHUwMEI3XHVBQzgwXHVDMEM5IFx1RDU0NFx1RDEzMCBcdUM4MDFcdUM2QTkgXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHJcblx0XHRsZXQgZmlsdGVyZWQgPSBhd2FpdCB0aGlzLmZpbHRlclByb3BzKHByb3BzLCBwYWdlcywgbm90ZVBhdGgsIHZpZXdJZCk7XHJcblxyXG5cdFx0Ly8gXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwIDMpIFx1QzgxNVx1QjgyQyBcdUNDOThcdUI5QUMgXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHJcblx0XHRjb25zdCBzS2V5ID0gYHNvcnRfJHt2aWV3SWR9YDsgICAgICAgICAgICAgICAgICAvLyBcdUM4MTVcdUI4MkMgXHVCMzAwXHVDMEMxIHByb3BcclxuXHRcdGNvbnN0IGRLZXkgPSBgc29ydF9kaXJlY3Rpb25fJHt2aWV3SWR9YDsgICAgICAgIC8vIGFzYy9kZXNjXHJcblx0XHRsZXQgY3VyU29ydCA9IHRoaXMuX2dldFN0YXRlKG5vdGVQYXRoLCB2aWV3SWQsIHNLZXkpO1xyXG5cdFx0bGV0IGN1ckRpciAgPSB0aGlzLl9nZXRTdGF0ZShub3RlUGF0aCwgdmlld0lkLCBkS2V5KSB8fCBcImFzY1wiO1xyXG5cclxuXHRcdGlmICghY3VyU29ydCkge1xyXG5cdFx0XHQvLyBcdUFFMzBcdUJDRjg6IFx1RDUwNFx1Qjg2MFx1RDJCOFx1QjlFNFx1RDEzMCB0aXRsZShcdUM1NENcdUQzMENcdUJDQjNcdUMyMUMpXHJcblx0XHRcdGZpbHRlcmVkLnNvcnQoKGEsIGIpID0+IGEuX19mbVRpdGxlLmxvY2FsZUNvbXBhcmUoYi5fX2ZtVGl0bGUpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFx1QzBBQ1x1QzZBOVx1Qzc5MCBcdUM5QzBcdUM4MTUgXHVDODE1XHVCODJDXHJcblx0XHRcdGZpbHRlcmVkID0gdGhpcy5zb3J0QnlQcm9wKGZpbHRlcmVkLCBjdXJTb3J0LCBjdXJEaXIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMCA0KSBcdUQzOThcdUM3NzRcdUM5QzBcdUIxMjRcdUM3NzRcdUMxNTggXHVDODAxXHVDNkE5IFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxyXG5cdFx0Y29uc3QgZGlzcCA9IGVudHJpZXNQZXJQYWdlXHJcblx0XHRcdD8gdGhpcy5wYWdpbmF0ZShmaWx0ZXJlZCwgZW50cmllc1BlclBhZ2UsIG5vdGVQYXRoLCB2aWV3SWQpXHJcblx0XHRcdDogWy4uLmZpbHRlcmVkXTtcclxuXHJcblx0XHQvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAgNSkgXHVEMTRDXHVDNzc0XHVCRTE0IFx1RDVFNFx1QjM1NCBET00gXHVDMEREXHVDMTMxIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxyXG5cdFx0Y29uc3QgaGVhZGVyczogc3RyaW5nW10gPSBbXTtcclxuXHRcdHByb3BzLmZvckVhY2goKGNvbCkgPT4ge1xyXG5cdFx0XHRjb25zdCBoZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRcdGlmIChjb2wucHJvcCA9PT0gXCJ0aXRsZV9saW5rXCIpIHtcclxuXHRcdFx0XHRoZC5jbGFzc0xpc3QuYWRkKFwiaW50ZXJhY3RpdmVfdGFibGUtdGFibGVfX2hlYWRlci0tc3RhdGljXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhkLmNsYXNzTGlzdC5hZGQoXCJpbnRlcmFjdGl2ZV90YWJsZS10YWJsZV9faGVhZGVyLS1zb3J0YWJsZVwiKTtcclxuXHRcdFx0XHRoZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByb3BcIiwgY29sLnByb3ApO1xyXG5cdFx0XHRcdGhkLnNldEF0dHJpYnV0ZShcImRhdGEtdmlldy1pZFwiLCB2aWV3SWQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGhkLmlubmVyVGV4dCA9IGNvbC5uYW1lIHx8IGNvbC5wcm9wO1xyXG5cdFx0XHRoZWFkZXJzLnB1c2goaGQub3V0ZXJIVE1MKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMCA2KSBcdUQxNENcdUM3NzRcdUJFMTQgXHVENTg5KHJvdykgXHVDMEREXHVDMTMxIFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFx1MjUwMFxyXG5cdFx0Y29uc3Qgcm93cyA9IGRpc3AubWFwKChwZykgPT4ge1xyXG5cdFx0XHRjb25zdCByb3dDZWxsczogc3RyaW5nW10gPSBbXTtcclxuXHRcdFx0Zm9yIChjb25zdCBjb2wgb2YgcHJvcHMpIHtcclxuXHRcdFx0XHRsZXQgdmFsID0gdGhpcy5nZXRWYWwocGcsIGNvbC5wcm9wKTtcclxuXHRcdFx0XHRpZiAoY29sLnByb3AgPT09IFwidGl0bGVfbGlua1wiKSB7XHJcblx0XHRcdFx0XHRjb25zdCBhbGlhcyA9IHBnLl9fZm1UaXRsZSB8fCBcIlwiO1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIgJiYgdmFsPy5wYXRoKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGxpbmtNYXJrdXAgPSBhbGlhcy50cmltKCkgPT09IFwiXCJcclxuXHRcdFx0XHRcdFx0XHQ/IGBbWyR7dmFsLnBhdGh9XV1gXHJcblx0XHRcdFx0XHRcdFx0OiBgW1ske3ZhbC5wYXRofXwke2FsaWFzfV1dYDtcclxuXHRcdFx0XHRcdFx0cm93Q2VsbHMucHVzaChgPGRpdiBjbGFzcz1cImludGVyYWN0aXZlX3RhYmxlLXRhYmxlX19jZWxsLS1lZGl0YWJsZVwiIGRhdGEtcGF0aD1cIiR7cGcuZmlsZT8ucGF0aCB8fCBcIlwifVwiIGRhdGEtcHJvcD1cInRpdGxlX2xpbmtcIj4ke2xpbmtNYXJrdXB9PC9kaXY+YCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRpZiAoYWxpYXMudHJpbSgpID09PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdFx0cm93Q2VsbHMucHVzaChgPGRpdiBjbGFzcz1cImludGVyYWN0aXZlX3RhYmxlLXRhYmxlX19jZWxsLS1lZGl0YWJsZVwiIGRhdGEtcGF0aD1cIiR7cGcuZmlsZT8ucGF0aCB8fCBcIlwifVwiIGRhdGEtcHJvcD1cInRpdGxlX2xpbmtcIj5bWyR7KHZhbCAmJiB0eXBlb2YgdmFsID09PSBcIm9iamVjdFwiICYmIHZhbD8ucGF0aCkgPyB2YWwucGF0aCA6IFwiXCJ9XV08L2Rpdj5gKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRyb3dDZWxscy5wdXNoKGA8ZGl2IGNsYXNzPVwiaW50ZXJhY3RpdmVfdGFibGUtdGFibGVfX2NlbGwtLWVkaXRhYmxlXCIgZGF0YS1wYXRoPVwiJHtwZy5maWxlPy5wYXRoIHx8IFwiXCJ9XCIgZGF0YS1wcm9wPVwidGl0bGVfbGlua1wiPiR7YWxpYXN9PC9kaXY+YCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoY29sLnByb3AgPT09IFwidGFnc1wiKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgdXBkYXRlZDogc3RyaW5nW10gPSBbXTtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpdGVtLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgodGspID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHRrICYmICF0ay5zdGFydHNXaXRoKFwiI1wiKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRrID0gXCIjXCIgKyB0aztcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR1cGRhdGVkLnB1c2godGspO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHZhbCA9IHVwZGF0ZWQuam9pbihcIiBcIik7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsID0gdmFsLmpvaW4oXCIgXCIpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoY29sLnByb3AgPT09IFwicHVibGlzaGVkXCIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZHQgPSB0aGlzLnBhcnNlRGF0ZVlNRCh2YWwpO1xyXG5cdFx0XHRcdFx0XHR2YWwgPSBkdCA/IGR0LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSA6ICh2YWwgfHwgXCItXCIpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dmFsID0gdGhpcy5mb3JtYXRBc1lZWVlNTURESWZEYXRlKHZhbCk7XHJcblx0XHRcdFx0XHRcdGlmICghdmFsKSB2YWwgPSBcIi1cIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJvd0NlbGxzLnB1c2goYDxkaXYgY2xhc3M9XCJpbnRlcmFjdGl2ZV90YWJsZS10YWJsZV9fY2VsbC0tZWRpdGFibGVcIiBkYXRhLXBhdGg9XCIke3BnLmZpbGU/LnBhdGggfHwgXCJcIn1cIiBkYXRhLXByb3A9XCIke2NvbC5wcm9wfVwiPiR7dmFsfTwvZGl2PmApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcm93Q2VsbHM7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBtZFRhYmxlID0gdGhpcy5kdi5tYXJrZG93blRhYmxlKGhlYWRlcnMsIHJvd3MpO1xyXG5cdFx0Y29uc3Qgd3JhcFAgPSB0aGlzLmR2LnBhcmFncmFwaChtZFRhYmxlKTtcclxuXHRcdHdyYXBQLmNsYXNzTGlzdC5hZGQoXCJpbnRlcmFjdGl2ZV90YWJsZS10YWJsZVwiLCBcImludGVyYWN0aXZlX3RhYmxlLXRhYmxlLS1mdWxsXCIpO1xyXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHdyYXBQKTtcclxuXHJcblx0XHQvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAgNykgXHVDMTQwIFx1RDA3NFx1QjlBRCBcdTIxRDIgXHVDNzc4XHVCNzdDXHVDNzc4IFx1RDNCOFx1QzlEMSBcdUQyQjhcdUI5QUNcdUFDNzAgXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHUyNTAwXHJcblx0XHR3cmFwUC5xdWVyeVNlbGVjdG9yQWxsKFwiLmludGVyYWN0aXZlX3RhYmxlLXRhYmxlX19jZWxsLS1lZGl0YWJsZVwiKS5mb3JFYWNoKChidG4pID0+IHtcclxuXHRcdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZTogYW55KSA9PiB7XHJcblx0XHRcdFx0aWYgKGUudGFyZ2V0LmxvY2FsTmFtZSA9PT0gXCJhXCIpIHJldHVybjtcclxuXHRcdFx0XHRjb25zdCBwYXRoID0gYnRuLmdldEF0dHJpYnV0ZShcImRhdGEtcGF0aFwiKTtcclxuXHRcdFx0XHRjb25zdCBwcm9wID0gYnRuLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvcFwiKTtcclxuXHRcdFx0XHRpZiAocGF0aCAmJiBwcm9wKSBhd2FpdCB0aGlzLmVkaXRQcm9wKFwidGV4dFwiLCBwYXRoLCBwcm9wKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDAgOCkgXHVENUU0XHVCMzU0IFx1RDA3NFx1QjlBRCBcdTIxRDIgXHVDODE1XHVCODJDIFx1RDFBMFx1QUUwMCBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcdTI1MDBcclxuXHRcdGNvbnN0IGhkckJ0bnMgPSB3cmFwUC5xdWVyeVNlbGVjdG9yQWxsKFwiLmludGVyYWN0aXZlX3RhYmxlLXRhYmxlX19oZWFkZXItLXNvcnRhYmxlXCIpO1xyXG5cdFx0Y29uc3QgYXBwbHlTb3J0VmlzdWFsID0gKHNvcnRQcm9wOiBzdHJpbmcgfCBudWxsLCBzb3J0RGlyOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0aGRyQnRucy5mb3JFYWNoKChoYjogYW55KSA9PiB7XHJcblx0XHRcdFx0aGIuY2xhc3NMaXN0LnJlbW92ZShcInNvcnRlZC1hc2NcIiwgXCJzb3J0ZWQtZGVzY1wiLCBcInNvcnRlZC1ub25lXCIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0aGRyQnRucy5mb3JFYWNoKChoYjogYW55KSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcCA9IGhiLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvcFwiKSB8fCBcIlwiO1xyXG5cdFx0XHRcdGlmICghc29ydFByb3AgfHwgc29ydFByb3AgIT09IHApIHtcclxuXHRcdFx0XHRcdGhiLmNsYXNzTGlzdC5hZGQoXCJzb3J0ZWQtbm9uZVwiKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aGIuY2xhc3NMaXN0LmFkZChzb3J0RGlyID09PSBcImFzY1wiID8gXCJzb3J0ZWQtYXNjXCIgOiBcInNvcnRlZC1kZXNjXCIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGhkckJ0bnMuZm9yRWFjaCgoaGIpID0+IHtcclxuXHRcdFx0aGIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRsZXQgcCA9IGhiLmdldEF0dHJpYnV0ZShcImRhdGEtcHJvcFwiKSB8fCBcIlwiO1xyXG5cdFx0XHRcdGNvbnN0IHZJZCA9IGhiLmdldEF0dHJpYnV0ZShcImRhdGEtdmlldy1pZFwiKSB8fCBcIlwiO1xyXG5cdFx0XHRcdGNvbnN0IHNLZXkgPSBgc29ydF8ke3ZJZH1gO1xyXG5cdFx0XHRcdGNvbnN0IGRLZXkgPSBgc29ydF9kaXJlY3Rpb25fJHt2SWR9YDtcclxuXHRcdFx0XHRsZXQgY3VyU29ydCA9IHRoaXMuX2dldFN0YXRlKG5vdGVQYXRoLCB2SWQsIHNLZXkpO1xyXG5cdFx0XHRcdGxldCBjdXJEaXIgPSB0aGlzLl9nZXRTdGF0ZShub3RlUGF0aCwgdklkLCBkS2V5KSB8fCBcImFzY1wiO1xyXG5cclxuXHRcdFx0XHRpZiAoY3VyU29ydCAhPT0gcCkge1xyXG5cdFx0XHRcdFx0Y3VyU29ydCA9IHA7XHJcblx0XHRcdFx0XHRjdXJEaXIgPSBcImFzY1wiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoY3VyRGlyID09PSBcImFzY1wiKSBjdXJEaXIgPSBcImRlc2NcIjtcclxuXHRcdFx0XHRcdGVsc2UgaWYgKGN1ckRpciA9PT0gXCJkZXNjXCIpIHtcclxuXHRcdFx0XHRcdFx0Y3VyU29ydCA9IG51bGw7XHJcblx0XHRcdFx0XHRcdGN1ckRpciA9IFwiYXNjXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuX3NldFN0YXRlKG5vdGVQYXRoLCB2SWQsIHNLZXksIGN1clNvcnQpO1xyXG5cdFx0XHRcdHRoaXMuX3NldFN0YXRlKG5vdGVQYXRoLCB2SWQsIGRLZXksIGN1ckRpcik7XHJcblx0XHRcdFx0YXBwbHlTb3J0VmlzdWFsKGN1clNvcnQsIGN1ckRpcik7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoQ29tbWFuZCg1MCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0XHRhcHBseVNvcnRWaXN1YWwoY3VyU29ydCwgY3VyRGlyKTtcclxuXHJcblx0XHRyZXR1cm4gZmlsdGVyZWQ7XHJcblx0fVxyXG5cclxuXHJcblx0LyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFs3XSBcdUJBNTRcdUM3NzggXHVDOUM0XHVDNzg1XHVDODEwXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cdC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICAgWzctMV0gRGF0YXZpZXdKUyBcdUM1RDRcdUQyQjhcdUI5QUMgXHVEM0VDXHVDNzc4XHVEMkI4OiByZW5kZXJWaWV3XHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwdWJsaWMgYXN5bmMgcmVuZGVyVmlldyhzZXR0aW5nczogYW55LCBwcm9wczogYW55W10sIHBhZ2VzOiBhbnlbXSwgZHY6IGFueSkge1xyXG5cdFx0Y29uc3Qgb3JpZ2luYWxDb25zb2xlRXJyb3IgPSBjb25zb2xlLmVycm9yO1xyXG5cdFx0Y29uc29sZS5lcnJvciA9ICguLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG5cdFx0XHRjb25zdCBtc2cgPSBhcmdzWzBdIGluc3RhbmNlb2YgRXJyb3IgPyBhcmdzWzBdLm1lc3NhZ2UgOiBTdHJpbmcoYXJnc1swXSk7XHJcblx0XHRcdGlmIChtc2cuaW5jbHVkZXMoXCJDYW5ub3QgcmVhZCBwcm9wZXJ0aWVzIG9mIHVuZGVmaW5lZCAocmVhZGluZyAnZmlsZScpXCIpKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdG9yaWdpbmFsQ29uc29sZUVycm9yKC4uLmFyZ3MpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoIWR2IHx8ICFwYWdlcyB8fCAhQXJyYXkuaXNBcnJheShwYWdlcykpIHJldHVybjtcclxuXHRcdFx0Y29uc3QgY3VyciA9IGR2LmN1cnJlbnQ/LigpO1xyXG5cdFx0XHRpZiAoIWN1cnIgfHwgIWN1cnIuZmlsZSB8fCAhY3Vyci5maWxlLnBhdGgpIHJldHVybjtcclxuXHRcdFx0Y29uc3Qgbm90ZVBhdGggPSBjdXJyLmZpbGUucGF0aDtcclxuXHRcdFx0cGFnZXMgPSBwYWdlcy5maWx0ZXIoKHBnOiBhbnkpID0+IHBnPy5maWxlPy5wYXRoKTtcclxuXHJcblx0XHRcdHRoaXMuZHYgPSBkdjtcclxuXHRcdFx0Y29uc3QgaWQgPSB0aGlzLnJlc29sdmVWaWV3SWQoc2V0dGluZ3MpO1xyXG5cclxuXHRcdFx0Ly8gZm9sZGluZyBcdUM2MzVcdUMxNTggXHVDQzk4XHVCOUFDXHJcblx0XHRcdGNvbnN0IG9sZENvbnRhaW5lciA9IGR2LmNvbnRhaW5lcjtcclxuXHRcdFx0aWYgKHNldHRpbmdzLmZvbGRpbmcgPT09IHRydWUpIHtcclxuXHRcdFx0XHRjb25zdCBkZXRhaWxzUGFyZW50ID0gZHYuY29udGFpbmVyLmNyZWF0ZUVsKFwiZGV0YWlsc1wiKTtcclxuXHRcdFx0XHRjb25zdCBzdW1tYXJ5RWwgPSBkZXRhaWxzUGFyZW50LmNyZWF0ZUVsKFwic3VtbWFyeVwiKTtcclxuXHRcdFx0XHRzdW1tYXJ5RWwuc2V0VGV4dChzZXR0aW5ncy5mb2xkaW5nVGl0bGUgfHwgXCJEYXRhdmlld1wiKTtcclxuXHRcdFx0XHRjb25zdCBmb2xkZWREaXYgPSBkZXRhaWxzUGFyZW50LmNyZWF0ZUVsKFwiZGl2XCIpO1xyXG5cdFx0XHRcdGR2LmNvbnRhaW5lciA9IGZvbGRlZERpdjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgY29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0Y29udGFpbmVyRGl2LmNsYXNzTGlzdC5hZGQoXCJpbnRlcmFjdGl2ZV90YWJsZS12aWV3XCIsIGBpbnRlcmFjdGl2ZV90YWJsZS12aWV3LS0ke2lkfWAsIFwiaW50ZXJhY3RpdmVfdGFibGUtdmlldy0tZmFkZVwiKTtcclxuXHRcdFx0ZHYuY29udGFpbmVyLmFwcGVuZChjb250YWluZXJEaXYpO1xyXG5cclxuXHRcdFx0Ly8gXHVDMEMxXHVCMkU4IFx1QzYwMVx1QzVFRCBcdUFENkNcdUMxMzFcclxuXHRcdFx0Y29uc3QgdG9wUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0dG9wUm93LmNsYXNzTGlzdC5hZGQoXCJpbnRlcmFjdGl2ZV90YWJsZS1oZWFkZXJcIik7XHJcblx0XHRcdHRvcFJvdy5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblx0XHRcdHRvcFJvdy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwic3BhY2UtYmV0d2VlblwiO1xyXG5cdFx0XHR0b3BSb3cuc3R5bGUuYWxpZ25JdGVtcyA9IFwiY2VudGVyXCI7XHJcblx0XHRcdGNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZCh0b3BSb3cpO1xyXG5cclxuXHRcdFx0Y29uc3QgbGVmdEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRsZWZ0QXJlYS5jbGFzc05hbWUgPSBcImludGVyYWN0aXZlX3RhYmxlLWhlYWRlcl9fbGVmdFwiO1xyXG5cdFx0XHRjb25zdCBjZW50ZXJBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0Y2VudGVyQXJlYS5jbGFzc05hbWUgPSBcImludGVyYWN0aXZlX3RhYmxlLWhlYWRlcl9fY2VudGVyXCI7XHJcblx0XHRcdGNvbnN0IHJpZ2h0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRcdHJpZ2h0QXJlYS5jbGFzc05hbWUgPSBcImludGVyYWN0aXZlX3RhYmxlLWhlYWRlcl9fcmlnaHRcIjtcclxuXHRcdFx0dG9wUm93LmFwcGVuZChsZWZ0QXJlYSwgY2VudGVyQXJlYSwgcmlnaHRBcmVhKTtcclxuXHJcblx0XHRcdGlmIChzZXR0aW5ncy5wYXRoKSB7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy52aWV3Rm9sZGVyQnV0dG9uKHNldHRpbmdzLnBhdGgsIGxlZnRBcmVhKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YXdhaXQgdGhpcy5yZW5kZXJUYWdGaWx0ZXJCdXR0b24ocGFnZXMsIGxlZnRBcmVhLCBub3RlUGF0aCwgaWQpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hCdXR0b24ocmlnaHRBcmVhLCBub3RlUGF0aCwgaWQpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLnNlYXJjaElucHV0KHJpZ2h0QXJlYSwgbm90ZVBhdGgsIGlkKTtcclxuXHRcdFx0YXdhaXQgdGhpcy5uZXdOb3RlQnV0dG9uKGR2LCByaWdodEFyZWEpOyAgIFxyXG5cclxuXHRcdFx0Y29uc3QgZm1Sb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRmbVJvdy5jbGFzc05hbWUgPSBcImludGVyYWN0aXZlX3RhYmxlLWZpbHRlclwiO1xyXG5cdFx0XHRjb250YWluZXJEaXYuYXBwZW5kQ2hpbGQoZm1Sb3cpO1xyXG5cdFx0XHRhd2FpdCB0aGlzLmZpbHRlckJ1dHRvblByb3BzKHByb3BzLCBwYWdlcywgZm1Sb3csIG5vdGVQYXRoLCBpZCk7XHJcblxyXG5cdFx0XHRjb25zdCBlcHAgPSBzZXR0aW5nc1tcImVudHJpZXMgb24gcGFnZVwiXSB8fCAxMDtcclxuXHRcdFx0Y29uc3QgZmluYWxGaWx0ZXJlZCA9IGF3YWl0IHRoaXMuY3JlYXRlVGFibGUocHJvcHMsIHBhZ2VzLCBjb250YWluZXJEaXYsIG5vdGVQYXRoLCBpZCwgZXBwLCBzZXR0aW5ncyk7XHJcblx0XHRcdGlmIChlcHApIHtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnBhZ2luYXRpb25CbG9jayhmaW5hbEZpbHRlcmVkLCBlcHAsIGNvbnRhaW5lckRpdiwgbm90ZVBhdGgsIGlkKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZHYuY29udGFpbmVyID0gb2xkQ29udGFpbmVyO1xyXG5cdFx0fSBjYXRjaCAoZXJyKSB7XHJcblx0XHRcdGNvbnNvbGUud2FybihcIkludGVyYWN0aXZlVGFibGUgcmVuZGVyVmlldyBzdXBwcmVzc2VkIGVycm9yOlwiLCBlcnIpO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgYWxsRXJyQmxvY2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kYXRhdmlldy1lcnJvciwgLmRhdGF2aWV3IC5lcnJvciwgLmR2LXJlbmRlci1lcnJvclwiKTtcclxuXHRcdFx0XHRhbGxFcnJCbG9ja3MuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGVsZW0udGV4dENvbnRlbnQgJiYgZWxlbS50ZXh0Q29udGVudC5pbmNsdWRlcyhcIkV2YWx1YXRpb24gRXJyb3JcIikpIHtcclxuXHRcdFx0XHRcdFx0ZWxlbS5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSwgMTAwKTtcclxuXHRcdFx0Y29uc29sZS5lcnJvciA9IG9yaWdpbmFsQ29uc29sZUVycm9yO1xyXG5cdFx0fVxyXG5cdH1cclxuXHQvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdCAgIFs3LTJdIHJlbmRlckF1dG9WaWV3IChcdUQ2MDRcdUM3QUMgXHVCMTc4XHVEMkI4IFx1RDNGNFx1QjM1NFx1Qzc1OCBtZCBcdUJCMzhcdUMxMUMgXHVCQzBGIC5jYW52YXMgXHVEMzBDXHVDNzdDIFx1Qzc5MFx1QjNEOSBcdUMyMThcdUM5RDEpXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRwdWJsaWMgYXN5bmMgcmVuZGVyQXV0b1ZpZXcoZHY6IGFueSwgc2V0dGluZ3M6IGFueSA9IHt9KSB7XHJcblx0XHRjb25zdCBjdXJyRmlsZSA9IGR2LmN1cnJlbnQoKT8uZmlsZTtcclxuXHRcdGlmICghY3VyckZpbGUpIHtcclxuXHRcdFx0Y29uc29sZS53YXJuKFwicmVuZGVyQXV0b1ZpZXc6IE5vIGN1cnJlbnQgZmlsZSBmb3VuZC5cIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyAoMSkgXHVENjA0XHVDN0FDIFx1QjE3OFx1RDJCOFx1QzY0MCBcdUIzRDlcdUM3N0MgXHVEM0Y0XHVCMzU0XHVDNzU4IG1kIFx1QkIzOFx1QzExQ1x1QjRFNFxyXG5cdFx0Y29uc3QgbWRQYWdlcyA9IGR2LnBhZ2VzKClcclxuXHRcdFx0LndoZXJlKChwOiBhbnkpID0+IHAuZmlsZS5mb2xkZXIgPT09IGN1cnJGaWxlLmZvbGRlcilcclxuXHRcdFx0LndoZXJlKChwOiBhbnkpID0+IHAuZmlsZS5wYXRoICE9PSBjdXJyRmlsZS5wYXRoKVxyXG5cdFx0XHQuYXJyYXkoKTtcclxuXHJcblx0XHQvLyAoMikgXHVCM0Q5XHVDNzdDIFx1RDNGNFx1QjM1NCBcdUIwQjQgLmNhbnZhcyBcdUQzMENcdUM3N0MgXHVDMjE4XHVDOUQxXHJcblx0XHRjb25zdCBjdXJyZW50Rm9sZGVyID0gY3VyckZpbGUuZm9sZGVyO1xyXG5cdFx0Y29uc3QgY2FudmFzRmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpXHJcblx0XHRcdC5maWx0ZXIoZiA9PiBmLmV4dGVuc2lvbiA9PT0gXCJjYW52YXNcIilcclxuXHRcdFx0LmZpbHRlcihmID0+IHtcclxuXHRcdFx0XHRjb25zdCBwYXJlbnRGb2xkZXIgPSBmLnBhdGguc3Vic3RyaW5nKDAsIGYucGF0aC5sYXN0SW5kZXhPZihcIi9cIikpIHx8IFwiXCI7XHJcblx0XHRcdFx0cmV0dXJuIHBhcmVudEZvbGRlciA9PT0gY3VycmVudEZvbGRlcjtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gKDMpIC5jYW52YXMgXHVEMzBDXHVDNzdDXHVDNzQ0IGRhdGF2aWV3IFx1RDM5OFx1Qzc3NFx1QzlDMCBcdUQ2MTVcdUMyRERcdUM3M0NcdUI4NUMgXHVCQ0MwXHVENjU4IChmcm9udG1hdHRlci50aXRsZSwgdGFncyBcdUJDRjRcdUFDMTUpXHJcblx0XHRjb25zdCBjYW52YXNQYWdlcyA9IGNhbnZhc0ZpbGVzLm1hcChjZiA9PiB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0ZmlsZToge1xyXG5cdFx0XHRcdFx0cGF0aDogY2YucGF0aCxcclxuXHRcdFx0XHRcdGxpbms6IGR2LmZpbGVMaW5rKGNmLnBhdGgpLFxyXG5cdFx0XHRcdFx0Zm9sZGVyOiBjdXJyZW50Rm9sZGVyLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZnJvbnRtYXR0ZXI6IHtcclxuXHRcdFx0XHRcdHRpdGxlOiBjZi5iYXNlbmFtZSxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGNyZWF0ZWQ6IFwiXCIsXHJcblx0XHRcdFx0c3RhdHVzOiBcIlwiLFxyXG5cdFx0XHRcdHRhZ3M6IFwiI1x1Q0U5NFx1QkM4NFx1QzJBNFwiXHJcblx0XHRcdH07XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyAoNCkgbWRQYWdlcyArIGNhbnZhc1BhZ2VzIFx1QUNCMFx1RDU2OVxyXG5cdFx0Y29uc3QgcGFnZXMgPSBtZFBhZ2VzLmNvbmNhdChjYW52YXNQYWdlcyk7XHJcblxyXG5cdFx0Ly8gKDUpIFx1QUUzMFx1QkNGOCBwcm9wcyBcdUMxMjRcdUM4MTUgKFx1QzEyNFx1QzgxNVx1QUMxMlx1Qzc3NCBcdUM3ODhcdUM3M0NcdUJBNzQgXHVCMzAwXHVDQ0I0KVxyXG5cdFx0Y29uc3QgZGVmYXVsdFByb3BzID0gW1xyXG5cdFx0XHR7IHByb3A6IFwidGl0bGVfbGlua1wiLCBuYW1lOiBcIlRpdGxlXCIsIGZpbHRlcjogZmFsc2UsIGNvbHVtbjogdHJ1ZSB9LFxyXG5cdFx0XHR7IHByb3A6IFwiY3JlYXRlZFwiLCAgIG5hbWU6IFwiQ3JlYXRlZFwiLCBmaWx0ZXI6IHRydWUsIGNvbHVtbjogdHJ1ZSB9LFxyXG5cdFx0XHR7IHByb3A6IFwidGFnc1wiLCAgICBuYW1lOiBcIlRhZ3NcIiwgIGZpbHRlcjogdHJ1ZSwgY29sdW1uOiB0cnVlIH0sXHJcblx0XHRdO1xyXG5cdFx0Y29uc3QgZmluYWxQcm9wcyA9IHNldHRpbmdzLnByb3BzIHx8IGRlZmF1bHRQcm9wcztcclxuXHJcblx0XHQvLyAoNikgcmVuZGVyVmlldyBcdUQ2MzhcdUNEOUNcclxuXHRcdGF3YWl0IHRoaXMucmVuZGVyVmlldyhzZXR0aW5ncywgZmluYWxQcm9wcywgcGFnZXMsIGR2KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IEFwcCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIGdhbnR0X3RhYmxlLnRzIChcdUNENUNcdUM4ODUgXHVDMjE4XHVDODE1XHVDNTQ4KVxyXG4gKiBcclxuICogXHVDOEZDXHVDNjk0IFx1QkNDMFx1QUNCRCBcdUMwQUNcdUQ1NkQ6XHJcbiAqIDEpIGdhdGhlckRhdGEoKVx1QzVEMFx1QzExQyBcdUQ2NTVcdUM4MTVcdUI0MUMgY29sb3JQYWxldHRlXHVCOTdDIGRhdGEuZmluYWxDb2xvclBhbGV0dGVcdUM1RDAgXHVDODAwXHVDN0E1LlxyXG4gKiAyKSBidWlsZExlZ2VuZEhUTUwsIGJ1aWxkTGVnZW5kRGF0YVx1QzVEMFx1QzExQyBkYXRhLmZpbmFsQ29sb3JQYWxldHRlXHVCOTdDIFx1QzBBQ1x1QzZBOVx1RDU3NCxcclxuICogICAgXHVCQzk0XHVCODQwIFx1QzBDOVx1QzBDMVx1Qzc3NCBcdUMyRTRcdUM4MUMgXHVENDVDXHVDMkRDIFx1QzBDOVx1QzBDMVx1QUNGQyBcdUIzRDlcdUM3N0NcdUQ1NThcdUFDOEMgXHVCOURFXHVDREE0LlxyXG4gKiAzKSByZW5kZXJJbnRlcmFjdGl2ZUJlbG93PXRydWUgXHVDMkRDLFxyXG4gKiAgICAtIGNyZWF0ZVJlc3BvbnNpdmVIUihkdi5jb250YWluZXIpXHVDNzQ0IFx1RDYzOFx1Q0Q5Q1x1Qjg1QyBcdUFENkNcdUJEODRcdUMxMjAgXHVDRDlDXHVCODI1XHJcbiAqICAgIC0gZW5naW5lLnJlbmRlckF1dG9WaWV3KClcdUI4NUMgSW50ZXJhY3RpdmVUYWJsZSBcdUM4MUNcdUIzMDBcdUI4NUMgXHVENDVDXHVDMkRDLlxyXG4gKiA0KSBjcmVhdGVSZXNwb25zaXZlSFIoKVx1QUMwMCBcdUMyRTRcdUM4MUMgRE9NIFx1QzY5NFx1QzE4Qyhkdi5jb250YWluZXIpXHVCOTdDIFx1QkMxQlx1QzU0NFxyXG4gKiAgICBwYXJlbnRFbC5jcmVhdGVFbChcImhyXCIpXHVBQzAwIFx1QjNEOVx1Qzc5MVx1RDU1OFx1QjNDNFx1Qjg1RCBcdUMyMThcdUM4MTVcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbnR0VGFibGUge1xyXG4gIHByaXZhdGUgbm90ZUNvbG9yTWFwOiBSZWNvcmQ8c3RyaW5nLCB7IGNvbG9ySW5kZXg6IG51bWJlciB8IG51bGwgfT47XHJcbiAgcHJpdmF0ZSBjb2xvckluZGV4OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBsZWdlbmREYXRhOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xyXG5cclxuICBwcml2YXRlIGlzRGFya01vZGU6IGJvb2xlYW47XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHApIHtcclxuICAgIHRoaXMubm90ZUNvbG9yTWFwID0ge307XHJcbiAgICB0aGlzLmNvbG9ySW5kZXggPSAwO1xyXG4gICAgdGhpcy5sZWdlbmREYXRhID0ge307XHJcblxyXG4gICAgdGhpcy5pc0RhcmtNb2RlID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0aGVtZS1kYXJrXCIpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogKEEpIGNyZWF0ZVJlc3BvbnNpdmVIUlxyXG4gICAqICAgIC0gR2FudHQgXHVDNTQ0XHVCNzk4XHVDNUQwIEludGVyYWN0aXZlVGFibGVcdUM3NDQgXHVCRDk5XHVDNzdDIFx1QjU0QyBcdUMyRENcdUFDMDFcdUM4MDEgXHVBRDZDXHVCRDg0XHVDMTIwIFx1QzBBQ1x1QzZBOVxyXG4gICAqICAgIC0gcGFyZW50RWw6IFx1QzJFNFx1QzgxQyBET00gXHVDRUU4XHVEMTRDXHVDNzc0XHVCMTA4KFx1QzYwODogZHYuY29udGFpbmVyKVxyXG4gICAqL1xyXG4gIHByaXZhdGUgY3JlYXRlUmVzcG9uc2l2ZUhSKHBhcmVudEVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgY29uc3QgaHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaHJcIik7XHJcbiAgICBpZiAodGhpcy5pc0RhcmtNb2RlKSB7XHJcbiAgICAgIGhyLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkICNmZmZcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGhyLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkICMwMDBcIjtcclxuICAgIH1cclxuICAgIGhyLnN0eWxlLm1hcmdpbiA9IFwiMTBweCAwXCI7XHJcbiAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChocik7XHJcbiAgICByZXR1cm4gaHI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiAoQikgXHVCMkU0XHVEMDZDL1x1Qjc3Q1x1Qzc3NFx1RDJCOCBcdUJBQThcdUI0RENcdUM2QTkgXHVBRTMwXHVCQ0Y4IFx1RDMxNFx1QjgwOFx1RDJCOFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZGVmYXVsdERhcmtQYWxldHRlczogc3RyaW5nW10gPSBbXHJcbiAgICBcIiNmZjYzNjNcIiwgXCIjZmZhNjAwXCIsIFwiI2ZmY2YwMFwiLCBcIiM4YWZmODBcIiwgXCIjMmVmZmQzXCIsXHJcbiAgICBcIiMwMGZmZmZcIiwgXCIjMjVjNmZjXCIsIFwiIzMzOTlmZlwiLCBcIiM5OTc1ZTJcIiwgXCIjY2M2NmNjXCIsXHJcbiAgICBcIiNmZjY2ZmZcIiwgXCIjZmY2NmNjXCIsIFwiI2ZmNjY5OVwiLCBcIiNmZjY2NjZcIiwgXCIjZjA2YjYwXCIsXHJcbiAgICBcIiNlZDc3MzJcIiwgXCIjZGU5ZjAwXCIsIFwiI2FmZmY2OFwiLCBcIiM1M2ZmYjRcIiwgXCIjMmY5ZWZmXCJcclxuICBdO1xyXG4gIHByaXZhdGUgZGVmYXVsdExpZ2h0UGFsZXR0ZXM6IHN0cmluZ1tdID0gW1xyXG4gICAgXCIjZmY5OTk5XCIsIFwiI2ZmYzA0ZFwiLCBcIiNmZmU2ODBcIiwgXCIjYjNmZmIzXCIsIFwiIzgwZmZmMlwiLFxyXG4gICAgXCIjODBmZmZmXCIsIFwiIzk5ZGFmZlwiLCBcIiM5OWMyZmZcIiwgXCIjYzJhM2U4XCIsIFwiI2RmOWVkZlwiLFxyXG4gICAgXCIjZmY5OWZmXCIsIFwiI2ZmOTllNlwiLCBcIiNmZjk5YzJcIiwgXCIjZmY5OTk5XCIsIFwiI2Y0YTM4Y1wiLFxyXG4gICAgXCIjZjFiMDY2XCIsIFwiI2VlYzkwMFwiLCBcIiNjNWZmOGFcIiwgXCIjODRmZmM5XCIsIFwiIzc0YmFmZlwiXHJcbiAgXTtcclxuXHJcbiAgLyoqXHJcbiAgICogKEMpIFx1QjE3OFx1RDJCOCBcdTIxOTIgXHVDMEM5XHVDMEMxIFx1Qzc3OFx1QjM3MVx1QzJBNCBcdUQ1NjBcdUIyRjlcclxuICAgKi9cclxuICBwcml2YXRlIGFzc2lnbkNvbG9yVG9Ob3RlKG5vdGVUaXRsZTogc3RyaW5nLCBjb2xvclBhbGV0dGU6IHN0cmluZ1tdKSB7XHJcbiAgICBpZiAoIXRoaXMubm90ZUNvbG9yTWFwW25vdGVUaXRsZV0pIHtcclxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yUGFsZXR0ZSkgfHwgY29sb3JQYWxldHRlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMubm90ZUNvbG9yTWFwW25vdGVUaXRsZV0gPSB7IGNvbG9ySW5kZXg6IG51bGwgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCBpZHggPSB0aGlzLmNvbG9ySW5kZXggJSBjb2xvclBhbGV0dGUubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMubm90ZUNvbG9yTWFwW25vdGVUaXRsZV0gPSB7IGNvbG9ySW5kZXg6IGlkeCB9O1xyXG4gICAgICAgIHRoaXMuY29sb3JJbmRleCsrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHByaXZhdGUgZ2V0Tm90ZUNvbG9yKG5vdGVUaXRsZTogc3RyaW5nLCBjb2xvclBhbGV0dGU6IHN0cmluZ1tdKSB7XHJcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMubm90ZUNvbG9yTWFwW25vdGVUaXRsZV07XHJcbiAgICBpZiAoIWVudHJ5IHx8IGVudHJ5LmNvbG9ySW5kZXggPT09IG51bGwpIHJldHVybiBcIiM5OTlcIjtcclxuICAgIHJldHVybiBjb2xvclBhbGV0dGVbZW50cnkuY29sb3JJbmRleF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiAoRCkgXHVCMzcwXHVDNzc0XHVEMTMwIFx1QzIxOFx1QzlEMTogXHVCMkU0XHVEMDZDL1x1Qjc3Q1x1Qzc3NFx1RDJCOCBcdUJBQThcdUI0RENcdUJDQzQgXHVEMzE0XHVCODA4XHVEMkI4IFx1RDY1NVx1QzgxNSArIFx1RDM5OFx1Qzc3NFx1QzlDMCBcdUQ1NDRcdUQxMzBcdUI5QzFcclxuICAgKi9cclxuICBwcml2YXRlIGdhdGhlckRhdGEoZHY6IGFueSwgc2V0dGluZ3M6IGFueSkge1xyXG4gICAgdGhpcy5pc0RhcmtNb2RlID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJ0aGVtZS1kYXJrXCIpO1xyXG5cclxuICAgIGxldCBmaW5hbENvbG9yUGFsZXR0ZTogc3RyaW5nW107XHJcbiAgICBpZiAodGhpcy5pc0RhcmtNb2RlKSB7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNldHRpbmdzLmNvbG9yUGFsZXR0ZURhcmspICYmIHNldHRpbmdzLmNvbG9yUGFsZXR0ZURhcmsubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGZpbmFsQ29sb3JQYWxldHRlID0gc2V0dGluZ3MuY29sb3JQYWxldHRlRGFyaztcclxuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNldHRpbmdzLmNvbG9yUGFsZXR0ZSkgJiYgc2V0dGluZ3MuY29sb3JQYWxldHRlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBmaW5hbENvbG9yUGFsZXR0ZSA9IHNldHRpbmdzLmNvbG9yUGFsZXR0ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmaW5hbENvbG9yUGFsZXR0ZSA9IHRoaXMuZGVmYXVsdERhcmtQYWxldHRlcztcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gXHVCNzdDXHVDNzc0XHVEMkI4IFx1QkFBOFx1QjREQ1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzZXR0aW5ncy5jb2xvclBhbGV0dGVMaWdodCkgJiYgc2V0dGluZ3MuY29sb3JQYWxldHRlTGlnaHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGZpbmFsQ29sb3JQYWxldHRlID0gc2V0dGluZ3MuY29sb3JQYWxldHRlTGlnaHQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzZXR0aW5ncy5jb2xvclBhbGV0dGUpICYmIHNldHRpbmdzLmNvbG9yUGFsZXR0ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZmluYWxDb2xvclBhbGV0dGUgPSBzZXR0aW5ncy5jb2xvclBhbGV0dGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmluYWxDb2xvclBhbGV0dGUgPSB0aGlzLmRlZmF1bHRMaWdodFBhbGV0dGVzO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY3VyciA9IGR2LmN1cnJlbnQ/LigpO1xyXG4gICAgaWYgKCFjdXJyPy5maWxlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZHYsXHJcbiAgICAgICAgYWxsUGFnZXM6IFtdLFxyXG4gICAgICAgIHllYXI6IDAsXHJcbiAgICAgICAgbW9udGg6IDAsXHJcbiAgICAgICAgdG90YWxEYXlzOiAwLFxyXG4gICAgICAgIGZpbmFsQ29sb3JQYWxldHRlXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBjb25zdCBjdXJyZW50RmlsZSA9IGN1cnIuZmlsZTtcclxuXHJcbiAgICBsZXQgYmFzZVBhZ2VzOiBhbnlbXSA9IFtdO1xyXG4gICAgaWYgKHNldHRpbmdzLmN1c3RvbVBhZ2VzICYmIEFycmF5LmlzQXJyYXkoc2V0dGluZ3MuY3VzdG9tUGFnZXMpKSB7XHJcbiAgICAgIGJhc2VQYWdlcyA9IHNldHRpbmdzLmN1c3RvbVBhZ2VzO1xyXG4gICAgfSBlbHNlIGlmIChzZXR0aW5ncy5wYXRoICYmIHR5cGVvZiBzZXR0aW5ncy5wYXRoID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGJhc2VQYWdlcyA9IGR2LnBhZ2VzKGBcIiR7c2V0dGluZ3MucGF0aH1cImApXHJcbiAgICAgICAgLndoZXJlKChwOiBhbnkpID0+IHAuZmlsZS5wYXRoICE9PSBjdXJyZW50RmlsZS5wYXRoKVxyXG4gICAgICAgIC5hcnJheSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmFzZVBhZ2VzID0gZHYucGFnZXMoKVxyXG4gICAgICAgIC53aGVyZSgocDogYW55KSA9PiBwLmZpbGUuZm9sZGVyID09PSBjdXJyZW50RmlsZS5mb2xkZXIpXHJcbiAgICAgICAgLndoZXJlKChwOiBhbnkpID0+IHAuZmlsZS5wYXRoICE9PSBjdXJyZW50RmlsZS5wYXRoKVxyXG4gICAgICAgIC5hcnJheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBhbGxQYWdlcyA9IGJhc2VQYWdlcy5maWx0ZXIoKHA6IGFueSkgPT4ge1xyXG4gICAgICBsZXQgcyA9IHAuc2l0dWF0aW9uO1xyXG4gICAgICBpZiAocyA9PT0gXCJcdUM3OTFcdUM1QzVcdUM2NDRcdUI4Q0NcIikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBpZiAoIXAuY3JlYXRlZCB8fCAhcC5lbmQpIHJldHVybiBmYWxzZTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGxldCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XHJcbiAgICBsZXQgbW9udGggPSBub3cuZ2V0TW9udGgoKTtcclxuICAgIGxldCB0b3RhbERheXMgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCArIDEsIDApLmdldERhdGUoKTtcclxuXHJcbiAgICByZXR1cm4geyBkdiwgYWxsUGFnZXMsIHllYXIsIG1vbnRoLCB0b3RhbERheXMsIGZpbmFsQ29sb3JQYWxldHRlIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiAoRSkgXHVBQzA0XHVEMkI4IFx1RDE0Q1x1Qzc3NFx1QkUxNCBcdUMwRERcdUMxMzFcclxuICAgKi9cclxuICBwcml2YXRlIGJ1aWxkR2FudHRUYWJsZShzZXR0aW5nczogYW55LCBkYXRhOiBhbnkpIHtcclxuICAgIGNvbnN0IHsgYWxsUGFnZXMsIHRvdGFsRGF5cyB9ID0gZGF0YTtcclxuXHJcbiAgICBsZXQgdGhlYWRIVE1MID0gYFxyXG4gICAgICA8dGhlYWQ+XHJcbiAgICAgICAgPHRyPlxyXG4gICAgICAgICAgPHRoIGNsYXNzPVwiZ2FudHQtY29ybmVyLWNvbFwiPjwvdGg+XHJcbiAgICAgICAgICAke1xyXG4gICAgICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbERheXMgfSwgKF8sIGkpID0+IHtcclxuICAgICAgICAgICAgICBsZXQgZCA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgIGxldCBkYXlTdHIgPSBTdHJpbmcoZCkucGFkU3RhcnQoMiwgXCIwXCIpO1xyXG4gICAgICAgICAgICAgIHJldHVybiBgPHRoIGNsYXNzPVwiZ2FudHQtZGF5LWNvbFwiPiR7ZGF5U3RyfTwvdGg+YDtcclxuICAgICAgICAgICAgfSkuam9pbihcIlwiKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDwvdHI+XHJcbiAgICAgIDwvdGhlYWQ+YDtcclxuXHJcbiAgICBsZXQgdGJvZHlIVE1MID0gXCI8dGJvZHk+XCI7XHJcbiAgICBmb3IgKGxldCBwYWdlIG9mIGFsbFBhZ2VzKSB7XHJcbiAgICAgIGxldCBmbVRpdGxlID0gcGFnZS50aXRsZSB8fCBwYWdlLmZpbGUubmFtZSB8fCBcIlVudGl0bGVkXCI7XHJcbiAgICAgIGxldCBzaXR1YXRpb24gPSBwYWdlLnNpdHVhdGlvbiB8fCBcIlwiO1xyXG5cclxuICAgICAgaWYgKHNpdHVhdGlvbiA9PT0gXCJcdUM3N0NcdUMyRENcdUM5MTFcdUM5QzBcIikge1xyXG4gICAgICAgIHRoaXMubm90ZUNvbG9yTWFwW2ZtVGl0bGVdID0geyBjb2xvckluZGV4OiBudWxsIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hc3NpZ25Db2xvclRvTm90ZShmbVRpdGxlLCBkYXRhLmZpbmFsQ29sb3JQYWxldHRlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGJvZHlIVE1MICs9IGA8dHI+YDtcclxuICAgICAgdGJvZHlIVE1MICs9IGA8dGQgY2xhc3M9XCJnYW50dC1ub3RlLWNvbFwiPiR7Zm1UaXRsZX08L3RkPmA7XHJcblxyXG4gICAgICBmb3IgKGxldCBkID0gMTsgZCA8PSB0b3RhbERheXM7IGQrKykge1xyXG4gICAgICAgIHRib2R5SFRNTCArPSBgXHJcbiAgICAgICAgICA8dGQgY2xhc3M9XCJnYW50dC1jZWxsXCJcclxuICAgICAgICAgICAgICBkYXRhLW5vdGUtdGl0bGU9XCIke2ZtVGl0bGV9XCJcclxuICAgICAgICAgICAgICBkYXRhLWRheT1cIiR7ZH1cIlxyXG4gICAgICAgICAgICAgIGRhdGEtc2l0dWF0aW9uPVwiJHtzaXR1YXRpb259XCI+PC90ZD5gO1xyXG4gICAgICB9XHJcbiAgICAgIHRib2R5SFRNTCArPSBgPC90cj5gO1xyXG4gICAgfVxyXG4gICAgdGJvZHlIVE1MICs9IFwiPC90Ym9keT5cIjtcclxuXHJcbiAgICByZXR1cm4gYDx0YWJsZSBjbGFzcz1cImdhbnR0LXRhYmxlXCI+JHt0aGVhZEhUTUx9JHt0Ym9keUhUTUx9PC90YWJsZT5gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogKEYpIFx1QkM5NFx1Qjg0MFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0TGVnZW5kQ29sb3IodGl0bGU6IHN0cmluZywgcGFsZXR0ZTogc3RyaW5nW10pIHtcclxuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5ub3RlQ29sb3JNYXBbdGl0bGVdO1xyXG4gICAgaWYgKCFlbnRyeSkgcmV0dXJuIFwiIzk5OVwiO1xyXG4gICAgaWYgKGVudHJ5LmNvbG9ySW5kZXggPT09IG51bGwpIHJldHVybiBcIiM4ODhcIjtcclxuICAgIHJldHVybiBwYWxldHRlW2VudHJ5LmNvbG9ySW5kZXhdIHx8IFwiIzk5OVwiO1xyXG4gIH1cclxuICBwcml2YXRlIGJ1aWxkTGVnZW5kSFRNTChzZXR0aW5nczogYW55LCBkYXRhOiBhbnkpIHtcclxuICAgIC8vIFx1Qzc3NFx1QzgxQyBkYXRhLmZpbmFsQ29sb3JQYWxldHRlXHVDNUQwIFx1QzJFNFx1QzgxQyBcdUMwQUNcdUM2QTlcdUI0MUMgXHVDMEM5XHVDMEMxIFx1QkMzMFx1QzVGNFx1Qzc3NCBcdUM3ODhcdUM3NENcclxuICAgIGNvbnN0IHBhbGV0dGUgPSBkYXRhLmZpbmFsQ29sb3JQYWxldHRlO1xyXG4gICAgbGV0IG5vdGVUaXRsZXMgPSBPYmplY3Qua2V5cyh0aGlzLm5vdGVDb2xvck1hcCk7XHJcbiAgICBpZiAobm90ZVRpdGxlcy5sZW5ndGggPT09IDApIHJldHVybiBcIlwiO1xyXG5cclxuICAgIG5vdGVUaXRsZXMuc29ydCgpO1xyXG4gICAgbGV0IGxlZ2VuZEl0ZW1zID0gbm90ZVRpdGxlcy5tYXAodGl0bGUgPT4ge1xyXG4gICAgICBsZXQgYyA9IHRoaXMuZ2V0TGVnZW5kQ29sb3IodGl0bGUsIHBhbGV0dGUpO1xyXG4gICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJnYW50dC1sZWdlbmQtaXRlbVwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnYW50dC1sZWdlbmQtY29sb3JcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JHtjfTtcIj48L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdhbnR0LWxlZ2VuZC10ZXh0XCI+JHt0aXRsZX08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH0pLmpvaW4oXCJcIik7XHJcblxyXG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZ2FudHQtbGVnZW5kXCI+JHtsZWdlbmRJdGVtc308L2Rpdj5gO1xyXG4gIH1cclxuICBwcml2YXRlIGJ1aWxkTGVnZW5kRGF0YShkYXRhOiBhbnkpIHtcclxuICAgIGNvbnN0IHBhbGV0dGUgPSBkYXRhLmZpbmFsQ29sb3JQYWxldHRlO1xyXG4gICAgbGV0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG4gICAgZm9yIChjb25zdCB0aXRsZSBpbiB0aGlzLm5vdGVDb2xvck1hcCkge1xyXG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMubm90ZUNvbG9yTWFwW3RpdGxlXTtcclxuICAgICAgaWYgKCFlbnRyeSkge1xyXG4gICAgICAgIHJlc3VsdFt0aXRsZV0gPSBcIiM5OTlcIjtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZW50cnkuY29sb3JJbmRleCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJlc3VsdFt0aXRsZV0gPSBcIiM4ODhcIjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXN1bHRbdGl0bGVdID0gcGFsZXR0ZVtlbnRyeS5jb2xvckluZGV4XSB8fCBcIiM5OTlcIjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbiAgcHVibGljIGdldExlZ2VuZERhdGFGcm9tRGF0YShkYXRhOiBhbnkpIHtcclxuICAgIHJldHVybiB0aGlzLmJ1aWxkTGVnZW5kRGF0YShkYXRhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIChHKSBcdUI4MENcdUIzNTQgXHVENTY4XHVDMjE4XHJcbiAgICovXHJcbiAgcHVibGljIGFzeW5jIHJlbmRlclZpZXcoZHY6IGFueSwgc2V0dGluZ3M6IGFueSA9IHt9KSB7XHJcbiAgICBpZiAoIWR2LmN1cnJlbnQ/LigpIHx8ICFkdi5jdXJyZW50KCk/LmZpbGUpIHtcclxuICAgICAgY29uc29sZS53YXJuKFwiR2FudHRUYWJsZTogTm8gY3VycmVudCBmaWxlIC0gcmV0dXJuaW5nIHF1aWV0bHkuXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXNldHRpbmdzW1wiaWRcIl0gfHwgdHlwZW9mIHNldHRpbmdzW1wiaWRcIl0gIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgc2V0dGluZ3NbXCJpZFwiXSA9IFwiZ2FudHQtYXV0by1cIiArIERhdGUubm93KCkgKyBcIi1cIiArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIsIDYpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaXNEYXJrTW9kZSA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwidGhlbWUtZGFya1wiKTtcclxuXHJcbiAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGxldCBtb250aE5hbWUgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChcImVuXCIsIHsgbW9udGg6IFwibG9uZ1wiIH0pLmZvcm1hdChub3cpO1xyXG4gICAgZHYucGFyYWdyYXBoKGBcdUQ4M0RcdURERDNcdUZFMEYgKioke21vbnRoTmFtZX0qKmApO1xyXG5cclxuICAgIC8vIHN0YXRlIFx1QjlBQ1x1QzE0QlxyXG4gICAgdGhpcy5ub3RlQ29sb3JNYXAgPSB7fTtcclxuICAgIHRoaXMuY29sb3JJbmRleCA9IDA7XHJcbiAgICB0aGlzLmxlZ2VuZERhdGEgPSB7fTtcclxuXHJcbiAgICAvLyAoMSkgXHVCMzcwXHVDNzc0XHVEMTMwIFx1QzIxOFx1QzlEMVxyXG4gICAgbGV0IGRhdGEgPSB0aGlzLmdhdGhlckRhdGEoZHYsIHNldHRpbmdzKTtcclxuICAgIGlmICghZGF0YSB8fCBkYXRhLnllYXIgPT09IDAgfHwgZGF0YS50b3RhbERheXMgPT09IDApIHtcclxuICAgICAgZHYucGFyYWdyYXBoKFwiKihObyBHYW50dCBkYXRhKSpcIik7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyAoMikgXHVEMTRDXHVDNzc0XHVCRTE0ICsgXHVCQzk0XHVCODQwXHJcbiAgICBsZXQgdGFibGVIVE1MID0gdGhpcy5idWlsZEdhbnR0VGFibGUoc2V0dGluZ3MsIGRhdGEpO1xyXG4gICAgbGV0IGxlZ2VuZEhUTUwgPSAoc2V0dGluZ3Muc2hvd0xlZ2VuZCA9PT0gZmFsc2UpXHJcbiAgICAgID8gXCJcIlxyXG4gICAgICA6IHRoaXMuYnVpbGRMZWdlbmRIVE1MKHNldHRpbmdzLCBkYXRhKTtcclxuXHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJnYW50dC1jb250YWluZXJcIik7XHJcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gdGFibGVIVE1MICsgbGVnZW5kSFRNTDtcclxuICAgIGR2LmNvbnRhaW5lci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xyXG5cclxuICAgIC8vICgzKSBcdUMwQzlcdUMwQzEgXHVDODAxXHVDNkE5ICsgXHVDNjI0XHVCMjk4IFx1QUMxNVx1Qzg3MFxyXG4gICAgdGhpcy5hcHBseU5vdGVDb2xvcnMoY29udGFpbmVyLCBkYXRhKTtcclxuICAgIHRoaXMuaGlnaGxpZ2h0VG9kYXkoY29udGFpbmVyLCBkYXRhKTtcclxuXHJcbiAgICAvLyAoNCkgbGVnZW5kIGRhdGFcclxuICAgIHRoaXMubGVnZW5kRGF0YSA9IHRoaXMuYnVpbGRMZWdlbmREYXRhKGRhdGEpO1xyXG4gICAgaWYgKHNldHRpbmdzLmRlYnVnTGVnZW5kID09PSB0cnVlKSB7XHJcbiAgICAgIGR2LnBhcmFncmFwaChcIioqW0xlZ2VuZCBEYXRhXSoqXCIpO1xyXG4gICAgICBkdi5wYXJhZ3JhcGgoSlNPTi5zdHJpbmdpZnkodGhpcy5sZWdlbmREYXRhLCBudWxsLCAyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gKDUpIHJlbmRlckludGVyYWN0aXZlQmVsb3dcclxuICAgIGlmIChzZXR0aW5ncy5yZW5kZXJJbnRlcmFjdGl2ZUJlbG93KSB7XHJcbiAgICAgIHRoaXMuY3JlYXRlUmVzcG9uc2l2ZUhSKGR2LmNvbnRhaW5lcik7XHJcblxyXG4gICAgICAvLyBcdUM1NDRcdUI3OThcdUNBQkQgSW50ZXJhY3RpdmVUYWJsZVxyXG4gICAgICBjb25zdCBlbmdpbmUgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLmNvdmVyVGFibGUuZW5naW5lIGFzIGFueTtcclxuICAgICAgaWYgKGVuZ2luZT8ucmVuZGVyQXV0b1ZpZXcpIHtcclxuICAgICAgICBhd2FpdCBlbmdpbmUucmVuZGVyQXV0b1ZpZXcoZHYsIHNldHRpbmdzLmludGVyYWN0aXZlT3B0aW9ucyA/PyB7fSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIChIKSBhcHBseU5vdGVDb2xvcnNcclxuICAgKi9cclxuICBwcml2YXRlIGFwcGx5Tm90ZUNvbG9ycyhjb250YWluZXI6IEhUTUxFbGVtZW50LCBkYXRhOiBhbnkpIHtcclxuICAgIGNvbnN0IHsgZHYsIGFsbFBhZ2VzLCB5ZWFyLCBtb250aCwgZmluYWxDb2xvclBhbGV0dGUgfSA9IGRhdGE7XHJcblxyXG4gICAgYWxsUGFnZXMuZm9yRWFjaCgocGFnZTogYW55KSA9PiB7XHJcbiAgICAgIGxldCBmbVRpdGxlID0gcGFnZS50aXRsZSB8fCBwYWdlLmZpbGUubmFtZSB8fCBcIlVudGl0bGVkXCI7XHJcbiAgICAgIGxldCBzaXR1YXRpb24gPSBwYWdlLnNpdHVhdGlvbiB8fCBcIlwiO1xyXG5cclxuICAgICAgbGV0IG5vdGVDb2xvciA9IFwiIzk5OVwiO1xyXG4gICAgICBpZiAoc2l0dWF0aW9uID09PSBcIlx1Qzc3Q1x1QzJEQ1x1QzkxMVx1QzlDMFwiKSBub3RlQ29sb3IgPSBcIiM4ODhcIjtcclxuICAgICAgZWxzZSBub3RlQ29sb3IgPSB0aGlzLmdldE5vdGVDb2xvcihmbVRpdGxlLCBmaW5hbENvbG9yUGFsZXR0ZSk7XHJcblxyXG4gICAgICBsZXQgc3RhcnREViA9IGR2LmRhdGUocGFnZS5jcmVhdGVkKTtcclxuICAgICAgbGV0IGVuZERWICAgPSBkdi5kYXRlKHBhZ2UuZW5kKTtcclxuICAgICAgaWYgKCFzdGFydERWIHx8ICFlbmREVikgcmV0dXJuO1xyXG5cclxuICAgICAgbGV0IHN0YXJ0SlMgPSBzdGFydERWLnRvSlNEYXRlKCk7XHJcbiAgICAgIGxldCBlbmRKUyAgID0gZW5kRFYudG9KU0RhdGUoKTtcclxuXHJcbiAgICAgIGxldCB0ZHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChgdGRbZGF0YS1ub3RlLXRpdGxlPVwiJHtmbVRpdGxlfVwiXWApO1xyXG4gICAgICB0ZHMuZm9yRWFjaCgodGQ6IGFueSkgPT4ge1xyXG4gICAgICAgIGxldCBkID0gcGFyc2VJbnQodGQuZ2V0QXR0cmlidXRlKFwiZGF0YS1kYXlcIiksIDEwKTtcclxuICAgICAgICBsZXQgdGhpc0RheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkKTtcclxuICAgICAgICBpZiAodGhpc0RheSA+PSBzdGFydEpTICYmIHRoaXNEYXkgPD0gZW5kSlMpIHtcclxuICAgICAgICAgIHRkLnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1jb2xvclwiLCBub3RlQ29sb3IsIFwiaW1wb3J0YW50XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIChJKSBoaWdobGlnaHRUb2RheVxyXG4gICAqL1xyXG4gIHByaXZhdGUgaGlnaGxpZ2h0VG9kYXkoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZGF0YTogYW55KSB7XHJcbiAgICBsZXQgbm93ID0gbmV3IERhdGUoKTtcclxuICAgIGxldCB0b2RheURheSA9IG5vdy5nZXREYXRlKCk7XHJcblxyXG4gICAgbGV0IGRheUNlbGxzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoYHRkW2RhdGEtZGF5PVwiJHt0b2RheURheX1cIl1gKTtcclxuICAgIGRheUNlbGxzLmZvckVhY2godGQgPT4gdGQuY2xhc3NMaXN0LmFkZChcImdhbnR0LXRvZGF5LWNvbFwiKSk7XHJcbiAgfVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQVVTOzs7QUNWVCxzQkFBMkI7QUFFcEIsSUFBTSxtQkFBTixNQUF1QjtBQUFBLEVBRTdCLFlBQW9CQyxNQUFVO0FBQVYsZUFBQUE7QUFRcEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQUFpQixlQUFlO0FBQ2hDLFNBQWlCLGNBQWM7QUFBQSxFQVRBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFhdkIsZUFBZSxRQUFRLElBQUk7QUFDbEMsZUFBVyxNQUFNO0FBQ2YsV0FBSyxJQUFJLFNBQVMsbUJBQW1CLHVDQUF1QztBQUFBLElBQzlFLEdBQUcsS0FBSztBQUFBLEVBQ1A7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNTSxjQUFjLFVBQXVCO0FBQzVDLFFBQUksS0FBSyxTQUFTLElBQUk7QUFDdEIsUUFBSSxDQUFDLE1BQU0sT0FBTyxPQUFPLFVBQVU7QUFDbEMsV0FBSyxVQUFVLEtBQUssSUFBSSxJQUFJLE1BQU0sS0FBSyxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsTUFBTSxHQUFHLENBQUM7QUFBQSxJQUN4RTtBQUNBLFdBQU87QUFBQSxFQUNSO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtRLGNBQWMsVUFBa0IsUUFBd0I7QUFDL0QsV0FBTyxlQUFlLGFBQWE7QUFBQSxFQUNwQztBQUFBO0FBQUEsRUFF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QUFtQjtBQUNyRCxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDakMsQ0FBQztBQUFBLElBQ0Y7QUFDQyxRQUFJLHlCQUFRLFdBQVcsRUFDdkIsUUFBUSx1QkFBdUIsRUFDL0I7QUFBQSxNQUFlLENBQUMsT0FDZixHQUNBLFNBQVMsS0FBSyxPQUFPLFNBQVMsT0FBTyxNQUFNLGtCQUFrQixFQUM3RCxTQUFTLE9BQU8sUUFBUTtBQUN2QixhQUFLLE9BQU8sU0FBUyxPQUFPLE1BQU0scUJBQXFCO0FBQ3ZELGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDRjtBQUNDLFFBQUkseUJBQVEsV0FBVyxFQUN2QixRQUFRLDBCQUEwQixFQUNsQztBQUFBLE1BQWUsQ0FBQyxPQUNmLEdBQ0EsU0FBUyxLQUFLLE9BQU8sU0FBUyxPQUFPLE1BQU0sZ0JBQWdCLEVBQzNELFNBQVMsT0FBTyxRQUFRO0FBQ3ZCLGFBQUssT0FBTyxTQUFTLE9BQU8sTUFBTSxtQkFBbUI7QUFDckQsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2pDLENBQUM7QUFBQSxJQUNGO0FBQUEsRUFDRDtBQUNDOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiYXBwIiwgIk1vZGFsIiwgIlN1Z2dlc3RNb2RhbCIsICJzS2V5IiwgImRLZXkiLCAiY3VyU29ydCIsICJjdXJEaXIiLCAiX2EiLCAiYXBwIiwgImFwcCJdCn0K
